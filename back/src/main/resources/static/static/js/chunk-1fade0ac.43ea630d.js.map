{"version":3,"sources":["webpack:///./src/components/storehouse/in_out/itenApply.vue?ea8c","webpack:///src/components/storehouse/in_out/itenApply.vue","webpack:///./src/components/storehouse/in_out/itenApply.vue?72ff","webpack:///./src/components/storehouse/in_out/itenApply.vue","webpack:///./src/network/requests/workshop_request.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","on","handleClick","model","value","callback","$$v","activeName","expression","attrs","ref","staticClass","equipmentInfo","required","message","$set","trim","_n","$event","submitApplyEquip","_v","resetForm","materialInfo","submitApplyMaterial","staticRenderFns","name","data","workshop_id","equip_id","quantity","material_id","methods","console","log","tab","event","$refs","formName","validate","valid","id","type","user","url","method","params","res","success","resetFields","component","my_request","config","Promise","resolve","reject","instance","axios","create","timeout","then","catch","err"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,OAAO,MAAQ,QAAQ,CAACF,EAAG,UAAU,CAACG,GAAG,CAAC,YAAYP,EAAIQ,aAAaC,MAAM,CAACC,MAAOV,EAAc,WAAEW,SAAS,SAAUC,GAAMZ,EAAIa,WAAWD,GAAKE,WAAW,eAAe,CAACV,EAAG,cAAc,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACX,EAAG,UAAU,CAACY,IAAI,gBAAgBC,YAAY,gBAAgBF,MAAM,CAAC,MAAQf,EAAIkB,cAAc,cAAc,UAAU,CAACd,EAAG,eAAe,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,MAAQ,CAC/gB,CAAEI,UAAU,EAAMC,QAAS,eAAgB,CAAChB,EAAG,WAAW,CAACW,MAAM,CAAC,aAAe,OAAON,MAAM,CAACC,MAAOV,EAAIkB,cAAyB,YAAEP,SAAS,SAAUC,GAAMZ,EAAIqB,KAAKrB,EAAIkB,cAAe,cAA+B,kBAARN,EAAkBA,EAAIU,OAAQV,IAAOE,WAAW,gCAAgC,GAAGV,EAAG,eAAe,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,MAAQ,CACvW,CAAEI,UAAU,EAAMC,QAAS,eAAgB,CAAChB,EAAG,WAAW,CAACW,MAAM,CAAC,aAAe,OAAON,MAAM,CAACC,MAAOV,EAAIkB,cAAsB,SAAEP,SAAS,SAAUC,GAAMZ,EAAIqB,KAAKrB,EAAIkB,cAAe,WAAYlB,EAAIuB,GAAGX,KAAOE,WAAW,6BAA6B,GAAGV,EAAG,eAAe,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,MAAQ,CAC/T,CAAEI,UAAU,EAAMC,QAAS,eAAgB,CAAChB,EAAG,WAAW,CAACW,MAAM,CAAC,aAAe,OAAON,MAAM,CAACC,MAAOV,EAAIkB,cAAsB,SAAEP,SAAS,SAAUC,GAAMZ,EAAIqB,KAAKrB,EAAIkB,cAAe,WAA4B,kBAARN,EAAkBA,EAAIU,OAAQV,IAAOE,WAAW,6BAA6B,GAAGV,EAAG,eAAe,CAACA,EAAG,YAAY,CAACW,MAAM,CAAC,KAAO,WAAWR,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAOxB,EAAIyB,iBAAiB,oBAAoB,CAACzB,EAAI0B,GAAG,QAAQtB,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAOxB,EAAI2B,UAAU,oBAAoB,CAAC3B,EAAI0B,GAAG,SAAS,IAAI,IAAI,GAAGtB,EAAG,cAAc,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,CAACX,EAAG,UAAU,CAACY,IAAI,eAAeC,YAAY,gBAAgBF,MAAM,CAAC,MAAQf,EAAI4B,aAAa,cAAc,UAAU,CAACxB,EAAG,eAAe,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,MAAQ,CAC7xB,CAAEI,UAAU,EAAMC,QAAS,eAAgB,CAAChB,EAAG,WAAW,CAACW,MAAM,CAAC,aAAe,OAAON,MAAM,CAACC,MAAOV,EAAI4B,aAAwB,YAAEjB,SAAS,SAAUC,GAAMZ,EAAIqB,KAAKrB,EAAI4B,aAAc,cAA+B,kBAARhB,EAAkBA,EAAIU,OAAQV,IAAOE,WAAW,+BAA+B,GAAGV,EAAG,eAAe,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,MAAQ,CACvW,CAAEI,UAAU,EAAMC,QAAS,eAAgB,CAAChB,EAAG,WAAW,CAACW,MAAM,CAAC,aAAe,OAAON,MAAM,CAACC,MAAOV,EAAI4B,aAAwB,YAAEjB,SAAS,SAAUC,GAAMZ,EAAIqB,KAAKrB,EAAI4B,aAAc,cAAe5B,EAAIuB,GAAGX,KAAOE,WAAW,+BAA+B,GAAGV,EAAG,eAAe,CAACW,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,MAAQ,CACrU,CAAEI,UAAU,EAAMC,QAAS,eAAgB,CAAChB,EAAG,WAAW,CAACW,MAAM,CAAC,aAAe,OAAON,MAAM,CAACC,MAAOV,EAAI4B,aAAqB,SAAEjB,SAAS,SAAUC,GAAMZ,EAAIqB,KAAKrB,EAAI4B,aAAc,WAA4B,kBAARhB,EAAkBA,EAAIU,OAAQV,IAAOE,WAAW,4BAA4B,GAAGV,EAAG,eAAe,CAACA,EAAG,YAAY,CAACW,MAAM,CAAC,KAAO,WAAWR,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAOxB,EAAI6B,oBAAoB,mBAAmB,CAAC7B,EAAI0B,GAAG,QAAQtB,EAAG,YAAY,CAACG,GAAG,CAAC,MAAQ,SAASiB,GAAQ,OAAOxB,EAAI2B,UAAU,oBAAoB,CAAC3B,EAAI0B,GAAG,SAAS,IAAI,IAAI,IAAI,IAAI,IAC5jBI,EAAkB,G,YCmEtB,GACEC,KAAM,YACNC,KAFF,WAGI,MAAO,CACLnB,WAAY,SACZK,cAAN,CACQe,YAAR,GACQC,SAAR,GACQC,SAAR,IAEMP,aAAN,CACQK,YAAa,GACbG,YAAR,GACQD,SAAU,MAIhBE,QAAS,CACP7B,YADJ,SACA,KACM8B,QAAQC,IAAIC,EAAKC,IAEnBhB,iBAJJ,SAIA,cACMxB,KAAKyC,MAAMC,GAAUC,UAAS,SAApC,GACQ,IAAIC,EAgCF,OADAP,QAAQC,IAAI,mBACL,EA/BP,IAAV,GACYN,YAAa,EAAzB,0BACYa,GAAI,EAAhB,uBACYX,SAAU,EAAtB,uBACYY,KAAM,YACNC,KAAM,EAAlB,4BAGUV,QAAQC,IAAI,YAAtB,GACU,OAAV,OAAU,CAAV,CACYU,IAAZ,cACYC,OAAZ,MACYC,OAAZ,IACA,kBACYb,QAAQC,IAAI,YAAxB,IAEA,IAAgBa,EAAIpB,KAAKqB,SACX,EAAd,UACgBN,KAAhB,UACgB3B,QAAhB,SAEc,EAAd,wBAEc,EAAd,0BAEA,mBACY,EAAZ,+BASIS,oBA1CJ,SA0CA,cACM5B,KAAKyC,MAAMC,GAAUC,UAAS,SAApC,GACQ,IAAIC,EAiCF,OADAP,QAAQC,IAAI,mBACL,EAhCP,IAAV,GACYN,YAAa,EAAzB,yBACYa,GAAI,EAAhB,yBACYX,SAAU,EAAtB,sBACYY,KAAZ,WACYC,KAAM,EAAlB,4BAGUV,QAAQC,IAAI,YAAtB,GAEU,OAAV,OAAU,CAAV,CACYU,IAAZ,cACYC,OAAZ,MACYC,OAAZ,IACA,kBACYb,QAAQC,IAAI,YAAxB,IAEA,IAAgBa,EAAIpB,KAAKqB,SACX,EAAd,UACgBN,KAAhB,UACgB3B,QAAhB,SAEc,EAAd,wBAEc,EAAd,0BAEA,mBACY,EAAZ,+BASIO,UAjFJ,SAiFA,GACM1B,KAAKyC,MAAMC,GAAUW,iBC7KsV,I,YCO7WC,EAAY,eACd,EACAxD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAyB,E,0HCfR,SAASC,EAAWC,GAEzB,OAAO,IAAIC,SAAS,SAACC,EAASC,GAE5B,IAAMC,EAAWC,IAAMC,OAAO,CAC5BC,QAAS,OAIXH,EAASJ,GAAQQ,MAAK,SAAAb,GACpBd,QAAQC,IAAI,MACZoB,EAAQP,MACPc,OAAM,SAAAC,GACP7B,QAAQC,IAAI,MACZqB,EAAOO,W","file":"static/js/chunk-1fade0ac.43ea630d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"50px\",\"width\":\"40%\"}},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"设备申请\",\"name\":\"first\"}},[_c('el-form',{ref:\"equipmentInfo\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.equipmentInfo,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"车间编号\",\"prop\":\"workshop_id\",\"rules\":[\n                      { required: true, message: '车间编号不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.equipmentInfo.workshop_id),callback:function ($$v) {_vm.$set(_vm.equipmentInfo, \"workshop_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"equipmentInfo.workshop_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"设备编号\",\"prop\":\"equip_id\",\"rules\":[\n                      { required: true, message: '设备编号不可为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.equipmentInfo.equip_id),callback:function ($$v) {_vm.$set(_vm.equipmentInfo, \"equip_id\", _vm._n($$v))},expression:\"equipmentInfo.equip_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"申请数量\",\"prop\":\"quantity\",\"rules\":[\n                      { required: true, message: '申请数量不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.equipmentInfo.quantity),callback:function ($$v) {_vm.$set(_vm.equipmentInfo, \"quantity\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"equipmentInfo.quantity\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitApplyEquip('equipmentInfo')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('equipmentInfo')}}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"物料申请\",\"name\":\"second\"}},[_c('el-form',{ref:\"materialInfo\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.materialInfo,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"车间编号\",\"prop\":\"workshop_id\",\"rules\":[\n                      { required: true, message: '车间编号不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.materialInfo.workshop_id),callback:function ($$v) {_vm.$set(_vm.materialInfo, \"workshop_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"materialInfo.workshop_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"物料编号\",\"prop\":\"material_id\",\"rules\":[\n                      { required: true, message: '物料编号不可为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.materialInfo.material_id),callback:function ($$v) {_vm.$set(_vm.materialInfo, \"material_id\", _vm._n($$v))},expression:\"materialInfo.material_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"申请数量\",\"prop\":\"quantity\",\"rules\":[\n                      { required: true, message: '申请数量不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.materialInfo.quantity),callback:function ($$v) {_vm.$set(_vm.materialInfo, \"quantity\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"materialInfo.quantity\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitApplyMaterial('materialInfo')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('equipmentInfo')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div style=\"margin: 50px;width: 40%\">\n  <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n    <el-tab-pane label=\"设备申请\" name=\"first\">\n      <el-form :model=\"equipmentInfo\" ref=\"equipmentInfo\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item\n            label=\"车间编号\"\n            prop=\"workshop_id\"\n            :rules=\"[\n                      { required: true, message: '车间编号不能为空'},\n                    ]\">\n          <el-input  v-model.trim=\"equipmentInfo.workshop_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"设备编号\"\n            prop=\"equip_id\"\n            :rules=\"[\n                      { required: true, message: '设备编号不可为空'},\n                    ]\">\n          <el-input  v-model.number=\"equipmentInfo.equip_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"申请数量\"\n            prop=\"quantity\"\n            :rules=\"[\n                      { required: true, message: '申请数量不能为空'},\n                    ]\">\n          <el-input  v-model.trim=\"equipmentInfo.quantity\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitApplyEquip('equipmentInfo')\">提交</el-button>\n          <el-button @click=\"resetForm('equipmentInfo')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </el-tab-pane>\n    <el-tab-pane label=\"物料申请\" name=\"second\">\n      <el-form :model=\"materialInfo\" ref=\"materialInfo\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item\n            label=\"车间编号\"\n            prop=\"workshop_id\"\n            :rules=\"[\n                      { required: true, message: '车间编号不能为空'},\n                    ]\">\n          <el-input  v-model.trim=\"materialInfo.workshop_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"物料编号\"\n            prop=\"material_id\"\n            :rules=\"[\n                      { required: true, message: '物料编号不可为空'},\n                    ]\">\n          <el-input  v-model.number=\"materialInfo.material_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"申请数量\"\n            prop=\"quantity\"\n            :rules=\"[\n                      { required: true, message: '申请数量不能为空'},\n                    ]\">\n          <el-input  v-model.trim=\"materialInfo.quantity\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitApplyMaterial('materialInfo')\">提交</el-button>\n          <el-button @click=\"resetForm('equipmentInfo')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </el-tab-pane>\n  </el-tabs>\n</div>\n</template>\n\n<script>\nimport {my_request} from \"@/network/requests/workshop_request\";\n\nexport default {\n  name: \"itenApply\",\n  data() {\n    return {\n      activeName: 'second',\n      equipmentInfo:{\n        workshop_id:'',\n        equip_id:'',\n        quantity:'',\n      },\n      materialInfo:{\n        workshop_id: '',\n        material_id:'',\n        quantity: ''\n      }\n    };\n  },\n  methods: {\n    handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    submitApplyEquip(formName){\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let req = {\n            workshop_id: this.equipmentInfo.workshop_id,\n            id: this.equipmentInfo.equip_id,\n            quantity: this.equipmentInfo.quantity,\n            type: 'equipment',\n            user: this.$store.getters.userinfo.id\n            // user: 1\n          }\n          console.log('申请设备的req：',req)\n          my_request({\n            url:'goods/apply',\n            method:'get',\n            params:req\n          }).then(res=>{\n            console.log('申请设备的res：',res)\n\n            if (res.data.success===true){\n              this.$message({\n                type:'success',\n                message:'申请成功'\n              })\n              this.$refs[formName].resetFields();\n            }else {\n              this.$message.error('申请失败')\n            }\n          }).catch(err=>{\n            this.$message.error('服务器异常')\n          })\n\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    submitApplyMaterial(formName){\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let req = {\n            workshop_id: this.materialInfo.workshop_id,\n            id: this.materialInfo.material_id,\n            quantity: this.materialInfo.quantity,\n            type:'material',\n            user: this.$store.getters.userinfo.id\n            // user: 1\n          }\n          console.log('申请材料的req：',req)\n\n          my_request({\n            url:'goods/apply',\n            method:'get',\n            params:req\n          }).then(res=>{\n            console.log('申请材料的res：',res)\n\n            if (res.data.success===true){\n              this.$message({\n                type:'success',\n                message:'申请成功'\n              })\n              this.$refs[formName].resetFields();\n            }else {\n              this.$message.error('申请失败')\n            }\n          }).catch(err=>{\n            this.$message.error('服务器异常')\n          })\n\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n\n\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./itenApply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./itenApply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./itenApply.vue?vue&type=template&id=2ae65cd6&scoped=true&\"\nimport script from \"./itenApply.vue?vue&type=script&lang=js&\"\nexport * from \"./itenApply.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ae65cd6\",\n  null\n  \n)\n\nexport default component.exports","import ca from \"element-ui/src/locale/lang/ca\";\nimport axios from \"axios\";\n\nexport function my_request(config) {\n\n  return new Promise(((resolve, reject) => {\n\n    const instance = axios.create({\n      timeout: 45000,\n      // headers: {'X-Custom-Header': 'foobar'}\n    });\n\n    instance(config).then(res => {\n      console.log('成功')\n      resolve(res);\n    }).catch(err => {\n      console.log('失败')\n      reject(err);\n    })\n  }))\n}\n"],"sourceRoot":""}