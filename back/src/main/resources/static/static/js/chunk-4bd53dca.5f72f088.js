(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bd53dca"],{"1bab":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("d3b7");var o=a("bc3a"),r=a.n(o);function i(t){return new Promise((function(e,a){var o=r.a.create({timeout:3e3});o(t).then((function(t){e(t)})).catch((function(t){a(t)}))}))}},"5b26":function(t,e,a){"use strict";var o=a("b063"),r=a.n(o);r.a},"694e":function(t,e,a){"use strict";var o=a("f7dd"),r=a.n(o);r.a},b063:function(t,e,a){},c50f:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",[a("quality-echarts")],1)],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticStyle:{display:"flex",height:"20%"}},[a("el-form",{ref:"echartsForm",staticClass:"demo-form-inline",staticStyle:{width:"100%"},attrs:{inline:!0,model:t.echartsForm,rules:t.rulesForm}},[a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择一个日期",format:"yyyy 年 MM 月 dd 日 ","value-format":"yyyy-MM-dd","picker-options":t.pickerBeginDateBefore},model:{value:t.echartsForm.date,callback:function(e){t.$set(t.echartsForm,"date",e)},expression:"echartsForm.date"}})],1),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"车间",prop:"workshop"}},[a("el-input",{attrs:{placeholder:"车间",clearable:""},model:{value:t.echartsForm.workshop,callback:function(e){t.$set(t.echartsForm,"workshop",e)},expression:"echartsForm.workshop"}})],1),a("el-form-item",{staticStyle:{float:"left"},attrs:{label:"生产线",prop:"productionLine"}},[a("el-input",{attrs:{placeholder:"生产线",clearable:""},model:{value:t.echartsForm.productionLine,callback:function(e){t.$set(t.echartsForm,"productionLine",e)},expression:"echartsForm.productionLine"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit()}}},[t._v("查询")]),a("el-button",{on:{click:function(e){return t.onCancel()}}},[t._v("重 置")])],1)],1)],1),a("el-main",{staticStyle:{height:"50%"}},[a("div",{staticStyle:{width:"100%",height:"300px","background-color":"#FFFFFF"},attrs:{id:"container1"}})]),a("el-footer",{staticStyle:{display:"inline-flex",height:"30%"}},[a("div",{staticStyle:{width:"50%",height:"300px",border:"1px solid rgb(180,180,180)","margin-top":"-20px"},attrs:{id:"echartss"}}),a("div",{staticStyle:{width:"50%",height:"300px",border:"1px solid rgb(180,180,180)","margin-top":"-20px"},attrs:{id:"echartss2"}})])],1)},n=[],s=(a("ac1f"),a("1276"),a("1bab")),l={name:"qualityEcharts",data:function(){return{echartsForm:{date:"",workshop:"",productionLine:""},pickerBeginDateBefore:{disabledDate:function(t){return t.getTime()>Date.now()}},rulesForm:{date:[{required:!0,message:"请至少选择一个日期",trigger:"change"}],workshop:[{required:!0,message:"请填写车间",trigger:"blur"}],productionLine:[{required:!0,message:"请填写生产线",trigger:"blur"}]},option0:{backgroundColor:"#45515a",title:{text:"瑕疵来源",left:"center",top:20,textStyle:{color:"#ccc",fontStyle:"italic"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",textStyle:{color:"#c8c8d0"},data:["先选择生产线"]},toolbox:{show:!0,feature:{dataView:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},visualMap:{show:!1,min:10,max:650,dimension:0,inRange:{color:["red"],colorLightness:[.5,1],colorSaturation:[.5,1]}},series:[{name:"瑕疵来源",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:100,name:"先选择生产线"}],roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.5,length:10,length2:20}},itemStyle:{normal:{color:"#97413c",shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return 200*Math.random()}}]},option:{color:["#2DC6C8","#B6A2DD"],title:{text:"瑕疵数目",left:"center",top:20,textStyle:{color:"#222",fontStyle:"italic"}},tooltip:{},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{bottom:"5",data:["所有时间","当前日期"]},grid:{},xAxis:[{type:"category",data:["先选择生产线"],axisLine:{lineStyle:{color:"#7DABB0"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#7DABB0"}},axisTick:{lineStyle:{color:"#7DABB0"}}}],series:[{name:"所有时间",type:"bar",stack:"111",barMaxWidth:"100",data:[50]},{name:"当前日期",type:"bar",stack:"111",barMaxWidth:"100",data:[50]}]},option2:{tooltip:{trigger:"axis"},legend:{data:["平均合格率","当前日期合格率"]},grid:{left:"0%",top:"15%",right:"8%",bottom:"3%",show:!0,boderColor:"#012f4a",containLabel:!0},color:["#8AE09F","#FA6F53"],xAxis:{type:"category",boundaryGap:!1,data:["1","2","3","4","5","6","7","8"],name:"质检次数",nameTextStyle:{color:"#FA6F53",fontSize:16,padding:[0,0,0,20]},axisLine:{lineStyle:{color:"#FA6F53"}}},yAxis:{name:"合格率",nameTextStyle:{color:"#FA6F53",fontSize:16,padding:[0,0,10,0]},axisLine:{lineStyle:{color:"#FA6F53"}},type:"value"},series:[{name:"平均合格率",data:[0,0,0,0,0,0,0,0],type:"line",lineStyle:{normal:{color:"#8AE09F"}}},{name:"当前日期合格率",data:[1,1,1,1,1,1,1,1],type:"line",lineStyle:{normal:{color:"#FA6F53"}}}]},myChart0:"",myChart:"",myChart2:""}},mounted:function(){this.loadEcharts()},methods:{loadEcharts:function(){this.myChart0=this.$echarts.init(document.getElementById("echartss")),this.myChart=this.$echarts.init(document.getElementById("container1")),this.myChart2=this.$echarts.init(document.getElementById("echartss2")),this.myChart0.setOption(this.option0),this.myChart.setOption(this.option2),this.myChart2.setOption(this.option)},validateForm:function(){var t=this;this.$refs["echartsForm"].validate((function(e){if(!e)return!1;var a=t.echartsForm.date,o=t.echartsForm.workshop,r=t.echartsForm.productionLine;Object(s["a"])({url:"/quality/echarts?keywords="+a+"~"+o+"~"+r,methods:"get"}).then((function(e){t.$emit("onSubmit");var a=e.data;t.option2.series[0].data=a[0],t.option2.series[1].data=a[1];for(var o=[],r=[{}],i=[],n=[],s=0;s<a[3].length;s++){var l=a[3][s].split("-");o.push(l[0]),r.push({value:parseInt(l[1]),name:l[0]}),i.push(parseInt(l[1]))}t.option0.legend.data=o,t.option0.series[0].data=r;for(var c=0;c<a[2].length;c++){var d=a[2][c].split("-");n.push(parseInt(d[1]))}t.option.xAxis[0].data=o,t.option.series[0].data=n,t.option.series[1].data=i,t.loadEcharts()})).catch((function(e){t.$message.error("网络出错，请稍后再试")}))}))},resetDataForm:function(){this.$refs["echartsForm"].clearValidate(),this.$refs["echartsForm"].resetFields()},onSubmit:function(){this.validateForm()},onCancel:function(){this.resetDataForm()}}},c=l,d=(a("694e"),a("2877")),h=Object(d["a"])(c,i,n,!1,null,"372987cb",null),m=h.exports,u={name:"qualityManagementComponent",components:{qualityEcharts:m},data:function(){return{showWhat:"qualityEcharts"}},methods:{listByCategory:function(){var t=this,e=this;e.$refs.sideMenu.cid;Object(s["a"])({url:"data/books",method:"get"}).then((function(t){var a=t.data,o=(a.code,a.data);e.$refs.formArea.qualityForm=o.books})).catch((function(e){t.$message.error("网络出错，请稍后再试")}))}}},p=u,f=(a("5b26"),Object(d["a"])(p,o,r,!1,null,"ea2f1ece",null));e["default"]=f.exports},f7dd:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4bd53dca.5f72f088.js.map