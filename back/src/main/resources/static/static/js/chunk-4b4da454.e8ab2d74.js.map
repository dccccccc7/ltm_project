{"version":3,"sources":["webpack:///./src/network/request.js","webpack:///./src/views/production_process/production/AddMaterial.vue?9c43","webpack:///src/views/production_process/production/AddMaterial.vue","webpack:///./src/views/production_process/production/AddMaterial.vue?6e79","webpack:///./src/views/production_process/production/AddMaterial.vue","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["request","config","Promise","resolve","reject","instance","axios","create","timeout","then","res","catch","err","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","material","rules","_l","item","index","staticStyle","required","message","trigger","options","on","$event","addMaterial","numRules","model","value","callback","$$v","$set","expression","del","_v","add","staticRenderFns","name","data","Error","methods","push","splice","event","size","color","submitForm","$refs","validate","type","valid","result","getMaterial","url","method","console","log","created","component","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","length","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"static/js/chunk-4b4da454.e8ab2d74.js","sourcesContent":["import axios from 'axios'\n\n// axios.interceptors.request.use(config => {\n//   console.log(config)\n//   // 必须返回请求，否则后端无法获得\n//   return config\n// }, err => {\n//   console.log(err)\n// })\n\nexport function request(config) {\n    return new Promise(((resolve, reject) => {\n\n        const instance = axios.create({\n            timeout: 3000,\n        });\n\n        instance(config).then(res => {\n            resolve(res);\n        }).catch(err => {\n            reject(err);\n        })\n    }))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"materialForm\",attrs:{\"model\":_vm.material,\"rules\":_vm.rules,\"label-position\":\"right\"}},[_vm._l((_vm.material.data),function(item,index){return _c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\"}},[_c('el-form-item',{attrs:{\"label\":'物料'+(index+1),\"prop\":'data.' + index + '.color',\"rules\":{required: true, message: '请选择物料', trigger: 'blur'},\"label-width\":\"80px\"}},[_c('el-cascader',{attrs:{\"placeholder\":\"请选择物料\",\"options\":_vm.options,\"clearable\":\"\"},on:{\"change\":function($event){return _vm.addMaterial(index, $event)}}})],1),_c('el-form-item',{attrs:{\"prop\":'data.' + index + '.count',\"rules\":_vm.numRules}},[_c('el-input-number',{staticStyle:{\"width\":\"25%\",\"margin-left\":\"10px\"},attrs:{\"controls\":false,\"precision\":0},model:{value:(item.count),callback:function ($$v) {_vm.$set(item, \"count\", $$v)},expression:\"item.count\"}}),_c('el-button',{staticStyle:{\"color\":\"red\",\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.del(index)}}},[_vm._v(\"删除\")])],1)],1)}),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.add}},[_vm._v(\"添加\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-form :model=\"material\" ref=\"materialForm\" :rules=\"rules\" label-position=\"right\">\n      <div v-for=\"(item, index) in material.data\" style=\"display: flex; flex-direction: row;\">\n        <el-form-item :label=\"'物料'+(index+1)\"\n                      :prop=\"'data.' + index + '.color'\"\n                      :rules=\"{required: true, message: '请选择物料', trigger: 'blur'}\" label-width=\"80px\">\n          <el-cascader placeholder=\"请选择物料\"\n                       :options=\"options\"\n                       @change=\"addMaterial(index, $event)\"\n                       clearable>\n          </el-cascader>\n        </el-form-item>\n        <el-form-item :prop=\"'data.' + index + '.count'\"\n                      :rules=\"numRules\">\n          <el-input-number style=\"width: 25%; margin-left: 10px;\" v-model=\"item.count\" :controls=\"false\" :precision=\"0\"></el-input-number>\n          <el-button size=\"mini\"\n                     style=\"color: red; margin-left: 20px;\"\n                     @click=\"del(index)\">删除</el-button>\n        </el-form-item>\n      </div>\n\n      <el-form-item>\n        <el-button @click=\"add\">添加</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {request} from \"@/network/request\";\n\nexport default {\n  name: \"AddMaterial\",\n  data() {\n    let checkNum = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('请填写数量'))\n      } else {\n        if (value <= 0) {\n          callback(new Error('数量必须大于0'));\n        } else {\n          callback();\n        }\n      }\n    };\n    return {\n      material: {\n        data: [\n          {name: '', size: '', color: ''}\n        ]\n      },\n      options: [],\n      numRules: [\n        {validator: checkNum, trigger: 'blur'}\n      ]\n    }\n  },\n  methods: {\n    add() {\n      this.material.data.push({name: '', size: '', color: ''})\n    },\n    del(index) {\n      this.material.data.splice(index, 1)\n    },\n    addMaterial(index, event) {\n      this.material.data[index].name = event[0]\n      this.material.data[index].size = event[1]\n      this.material.data[index].color = event[2]\n    },\n    submitForm() {\n      let result = false\n      this.$refs['materialForm'].validate((valid) => {\n        if (this.material.data.length < 1) {\n          this.$message({\n            type: 'error',\n            message: \"物料不能为空\"\n          })\n          return false\n        }\n        if (valid) {\n          this.$emit('message', this.material.data)\n          result = true\n        } else {\n          return false;\n        }\n      });\n      return result\n    },\n    getMaterial() {\n      request({\n        url: '/getOptionMaterial',\n        method: 'get',\n      }).then(res => {\n        this.options = res.data\n      }).catch(err => {\n        console.log(err)\n      });\n    }\n  },\n  created() {\n    this.getMaterial()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMaterial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddMaterial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddMaterial.vue?vue&type=template&id=2aa38d0c&scoped=true&\"\nimport script from \"./AddMaterial.vue?vue&type=script&lang=js&\"\nexport * from \"./AddMaterial.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aa38d0c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}