(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88546e96"],{"131d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"mainDiv"}},[i("div",{attrs:{id:"header"}}),i("div",{staticClass:"subMain"},[i("div",{staticClass:"item"},[i("span",[t._v("车间编号:")]),i("div",{staticClass:"inputBox"},[i("el-input",{attrs:{disabled:t.isDisabled,placeholder:"workshopInfo.id",clearable:""},model:{value:t.workshopInfo.id,callback:function(e){t.$set(t.workshopInfo,"id",e)},expression:"workshopInfo.id"}})],1)]),i("div",{staticClass:"item"},[i("span",[t._v("车间名称:")]),i("div",{staticClass:"inputBox"},[i("el-input",{attrs:{disabled:t.isDisabled,placeholder:"workshopInfo.name",clearable:""},model:{value:t.workshopInfo.name,callback:function(e){t.$set(t.workshopInfo,"name",e)},expression:"workshopInfo.name"}})],1)]),i("div",{staticClass:"item"},[i("span",[t._v("工厂名称:")]),i("div",{staticClass:"inputBox"},[i("el-input",{attrs:{disabled:t.isDisabled,placeholder:"workshopInfo.factory",clearable:""},model:{value:t.workshopInfo.factory,callback:function(e){t.$set(t.workshopInfo,"factory",e)},expression:"workshopInfo.factory"}})],1),i("el-button",{attrs:{plain:""},on:{click:function(e){t.addDialog=!0}}},[t._v("增加产线")]),i("el-dialog",{attrs:{title:"增加工位",visible:t.addDialog,width:"25%","before-close":t.handleClose},on:{"update:visible":function(e){t.addDialog=e}}},[i("div",{staticClass:"item"},[i("span",[t._v("产线位序:")]),i("div",{staticClass:"inputBox"},[i("el-input",{attrs:{placeholder:"产线位序",clearable:""},model:{value:t.newLineOrder,callback:function(e){t.newLineOrder=e},expression:"newLineOrder"}})],1)]),i("div",{staticStyle:{height:"10px"}}),i("div",{staticClass:"item"},[i("span",[t._v("产线名称:")]),i("div",{staticClass:"inputBox"},[i("el-input",{attrs:{placeholder:"产线名称",clearable:""},model:{value:t.newLineName,callback:function(e){t.newLineName=e},expression:"newLineName"}})],1)]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addDialog=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addLine(t.workshopInfo.id,t.newLineOrder,t.newLineName)}}},[t._v("确 定")])],1)])],1)]),i("div",{staticStyle:{width:"100%",height:"40px",display:"flex","background-color":"whitesmoke"}}),i("div",{staticClass:"subMainA",attrs:{id:"main"}},t._l(t.workshopInfo.line,(function(e,a){return i("div",{staticClass:"itemA"},[i("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v(t._s(e.lineId)+"-"+t._s(e.lineName)+":")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right",padding:"3px 3px","margin-left":"6px"},attrs:{icon:"el-icon-close",circle:""},on:{click:function(i){return t.delLine(t.workshopInfo.id,e.lineId)}}}),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{float:"right",padding:"3px 3px"},attrs:{icon:"el-icon-plus",circle:""},on:{click:function(e){return t.shouwAddStaDialog(a)}}}),i("el-dialog",{attrs:{title:"增加工位",visible:t.addStationDialogs[a].flag,width:"25%","before-close":t.handleClose},on:{"update:visible":function(e){return t.$set(t.addStationDialogs[a],"flag",e)}}},[i("div",{staticClass:"item"},[i("span",[t._v("工位顺序:")]),i("div",{staticClass:"inputBox"},[i("el-input",{attrs:{placeholder:"产线顺序",clearable:""},model:{value:t.staOrder,callback:function(e){t.staOrder=e},expression:"staOrder"}})],1)]),i("div",{staticStyle:{height:"10px"}}),i("div",{staticClass:"item"},[i("span",[t._v("设备名称:")]),i("div",{staticClass:"inputBox"},[i("el-input",{attrs:{placeholder:"设备名称",clearable:""},model:{value:t.staEqu,callback:function(e){t.staEqu=e},expression:"staEqu"}})],1)]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.notShowAddStatinDialog(a)}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.addStation(t.workshopInfo.id,e.lineId,a)}}},[t._v("确 定")])],1)])],1),i("div",[i("span",{staticStyle:{"font-size":"small","font-family":"黑体",color:"#ff7300"}},[t._v("工位位序-工位编号-设备编号")])]),t._l(e.station,(function(e,a){return i("div",{staticClass:"text item",staticStyle:{display:"flex","justify-content":"space-around",width:"inherit"}},[i("div",[t._v(" "+t._s(e.stationOrder+"-"+e.stationId+"-"+e.equipment)+" ")]),i("div",{staticStyle:{display:"flex","align-self":"end"}})])}))],2)],1)})),0)])},n=[],s=i("4791"),o={data:function(){return{transferId:"",transferName:"",linOrder:"",linName:"",staOrder:"",staEqu:"",staEquName:"",newLineOrder:"",newLineName:"",showDialog:!1,isDisabled:!0,workshopInfo:{id:1,name:"try",factory:"史丹利",lineNum:3,line:[{lindId:1,lineName:"first",stationNum:3,station:[{stationId:1,stationOrder:1,equipmentId:1,equitment:"yi"},{stationId:2,stationOrder:2,equipmentId:2,equitment:"er"},{stationId:3,stationOrder:3,equipmentId:3,equitment:"san"}]},{lindId:1,lineName:"first",stationNum:3,station:[{stationId:1,stationOrder:1,equipmentId:1,equitment:"yi"},{stationId:2,stationOrder:2,equipmentId:2,equitment:"er"},{stationId:3,stationOrder:3,equipmentId:3,equitment:"san"}]},{lindId:1,lineName:"first",stationNum:3,station:[{stationId:1,stationOrder:1,equipmentId:1,equitment:"yi"},{stationId:2,stationOrder:2,equipmentId:2,equitment:"er"},{stationId:3,stationOrder:3,equipmentId:3,equitment:"san"}]}]},dialogFormVisible:!1,lineName:"",formLabelWidth:"80px",fullscreenLoading:!1,addStationDialog:!1,addStationDialogs:[],addStationfiags:0,stationInfo:[],showEditDialog:!1,addDialog:!1}},name:"workshopDetail",activated:function(){this.getData()},methods:{getData:function(){this.addStationfiags=10;for(var t=0;t<10;t++)this.addStationDialogs.push({flag:!1});for(var e=0;e<3;e++){this.stationInfo.push([]);for(var i=0;i<3;i++)this.stationInfo[e].push({flag:!1})}console.log(this.stationInfo),console.log("?????")},delLine:function(t,e){var i=this;console.log("删除产线的车间id",t,"待删除的产线id",e),this.fullscreenLoading=!0;var a={workshop_id:1,line_id:1};Object(s["a"])({url:"line/delete",params:a,methods:"get"}).then((function(t){i.fullscreenLoading=!1,i.$message({message:"删除成功"})})).catch((function(t){i.fullscreenLoading=!1,i.$message.error("删除失败")}))},addLine:function(t,e,i){var a=this;console.log("增加产线的车间id",t),this.fullscreenLoading=!0,this.addDialog=!1;var n={type:"addLine",workshopId:t,lineOrder:e,lineName:i};request({url:"line/details",params:n,methods:"get"}).then((function(t){a.fullscreenLoading=!1,a.$message({message:"增加成功"}),a.getData()})).catch((function(t){a.fullscreenLoading=!1,a.$message.error("增加失败"),a.getData()}))},shouwAddStaDialog:function(t){this.addStationDialogs[t].flag=!0},notShowAddStatinDialog:function(t){this.addStationDialogs[t].flag=!1},addStation:function(t,e,i){var a=this;this.notShowAddStatinDialog(i),console.log("增加工位的车间",t,"增加的产线",e),this.fullscreenLoading=!0,this.addStationDialog=!1;var n={type:"addStation",workshopId:t,lineId:e,staOrd:this.staOrd,staEqu:this.staEqu,staEquName:this.staEquName};request({url:"line/details",params:n,methods:"get"}).then((function(t){a.fullscreenLoading=!1,a.workshopInfo=t.deta,a.$message({message:"增加成功"})})).catch((function(t){a.fullscreenLoading=!1,a.$message.error("增加失败")}))},delStation:function(t,e,i){var a=this;console.log("待删除工位所属车间id",t),console.log("带删除产线di",e),console.log("待删除工位id:",i),this.fullscreenLoading=!0;var n={type:"delStation",workshopId:t,lineId:e,stationId:i};request({url:"line/details",params:n,methods:"post"}).then((function(t){a.fullscreenLoading=!1,a.workshopInfo=t.deta,a.$message({message:"删除成功"})})).catch((function(t){a.fullscreenLoading=!1,a.$message.error("删除失败")}))},showEditStation:function(t,e){this.stationInfo[t][e].flag=!0},notShowEditStation:function(t,e){this.stationInfo[t][e].flag=!1},editStation:function(t,e,i,a,n){var s=this;this.notShowEditStation(a,n),console.log("待编辑的产线id：",e," 待编辑的工位id：",i),this.fullscreenLoading=!0,this.showEditDialog=!1;var o={type:"addStation",workshopId:t,lineId:e,stationId:i,staOrd:this.staOrd,staEqu:this.staEqu,staEquName:this.staEquName};request({url:"line/details",params:o,methods:"get"}).then((function(t){s.fullscreenLoading=!1,s.workshopInfo=t.deta,s.$message({message:"修改成功"})})).catch((function(t){s.fullscreenLoading=!1,s.$message.error("修改失败")}))},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))}}},l=o,d=(i("8d43"),i("2877")),r=Object(d["a"])(l,a,n,!1,null,"77b25a4a",null);e["default"]=r.exports},"1d41":function(t,e,i){},4791:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("d3b7"),i("4f6c");var a=i("bc3a"),n=i.n(a);function s(t){return new Promise((function(e,i){var a=n.a.create({timeout:45e3});a(t).then((function(t){console.log("成功"),e(t)})).catch((function(t){console.log("失败"),i(t)}))}))}},"4f6c":function(t,e,i){"use strict"},"8d43":function(t,e,i){"use strict";var a=i("1d41"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-88546e96.31f01681.js.map