{"version":3,"sources":["webpack:///./src/views/production_process/production/AddProcess.vue?7d79","webpack:///src/views/production_process/production/AddProcess.vue","webpack:///./src/views/production_process/production/AddProcess.vue?db12","webpack:///./src/views/production_process/production/AddProcess.vue","webpack:///./src/views/production_process/production/AddProcess.vue?c8c2"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","process","required","message","trigger","model","value","callback","$$v","$set","expression","_l","item","index","key","id","data","staticStyle","on","$event","del","_v","add","staticRenderFns","name","num","comments","options","methods","push","splice","submitForm","$refs","validate","type","result","getProcess","url","method","console","log","err","components","Draggable","created","component"],"mappings":"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","file":"static/js/chunk-21e14d8b.50a58255.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"processForm\",attrs:{\"model\":_vm.process,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"工艺描述\",\"prop\":\"comments\",\"rules\":{required: true, message: '请填写工艺描述', trigger: 'blur'}}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入工艺描述\",\"maxlength\":\"45\",\"show-word-limit\":\"\"},model:{value:(_vm.process.comments),callback:function ($$v) {_vm.$set(_vm.process, \"comments\", $$v)},expression:\"process.comments\"}})],1),_c('draggable',{attrs:{\"chosenClass\":\"chosen\",\"forceFallback\":\"true\",\"animation\":\"1000\"},model:{value:(_vm.process.data),callback:function ($$v) {_vm.$set(_vm.process, \"data\", $$v)},expression:\"process.data\"}},[_c('transition-group',_vm._l((_vm.process.data),function(item,index){return _c('el-form-item',{key:item.id,attrs:{\"label\":'步骤'+(index+1),\"prop\":'data.' + index + '.content',\"rules\":{required: true, message: '请选择步骤', trigger: 'change'}}},[_c('el-select',{attrs:{\"placeholder\":\"请选择工序\",\"filterable\":\"\"},model:{value:(_vm.process.data[index].content),callback:function ($$v) {_vm.$set(_vm.process.data[index], \"content\", $$v)},expression:\"process.data[index].content\"}},_vm._l((_vm.options),function(item){return _c('el-option',{attrs:{\"label\":item,\"value\":item}})}),1),_c('el-button',{staticStyle:{\"color\":\"red\",\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.del(index)}}},[_vm._v(\"删除\")])],1)}),1)],1),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.add}},[_vm._v(\"添加\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-form :model=\"process\" ref=\"processForm\" label-position=\"right\" label-width=\"80px\">\n      <el-form-item label=\"工艺描述\" prop=\"comments\"\n                    :rules=\"{required: true, message: '请填写工艺描述', trigger: 'blur'}\">\n        <el-input type=\"textarea\" placeholder=\"请输入工艺描述\" v-model=\"process.comments\" maxlength=\"45\" show-word-limit></el-input>\n      </el-form-item>\n      <draggable v-model=\"process.data\" chosenClass=\"chosen\" forceFallback=\"true\" animation=\"1000\">\n        <transition-group>\n          <el-form-item v-for=\"(item, index) in process.data\"\n                        :label=\"'步骤'+(index+1)\"\n                        :key=\"item.id\"\n                        :prop=\"'data.' + index + '.content'\"\n                        :rules=\"{required: true, message: '请选择步骤', trigger: 'change'}\">\n            <el-select v-model=\"process.data[index].content\"\n                       placeholder=\"请选择工序\"\n                       filterable>\n              <el-option v-for=\"item in options\"\n                         :label=\"item\"\n                         :value=\"item\"></el-option>\n            </el-select>\n            <el-button size=\"mini\"\n                       style=\"color: red; margin-left: 20px;\"\n                       @click=\"del(index)\">删除</el-button>\n          </el-form-item>\n        </transition-group>\n      </draggable>\n      <el-form-item>\n        <el-button @click=\"add\">添加</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport Draggable from \"vuedraggable\"\nimport {request} from \"@/network/request\";\n\nexport default {\n  name: \"AddProcess\",\n  data() {\n    return {\n      num: 1,\n      process: {\n        data: [\n          {id: 1, content: ''}\n        ],\n        comments: ''\n      },\n      options: []\n    }\n  },\n  methods: {\n    add() {\n      this.num++\n      this.process.data.push({id: this.num, content: ''})\n    },\n    del(index) {\n      this.process.data.splice(index, 1)\n    },\n    submitForm() {\n      let result = false\n      this.$refs['processForm'].validate((valid) => {\n        if (this.process.data.length < 1) {\n          this.$message({\n            type: 'error',\n            message: \"步骤不能为空\"\n          })\n          return false\n        } else if (valid) {\n          this.$emit('message', this.process)\n          result = true\n        } else {\n          return false;\n        }\n      });\n      return result\n    },\n    getProcess() {\n      request({\n        url: '/getProcedures',\n        method: 'get',\n      }).then(res => {\n        this.options = res.data\n      }).catch(err => {\n        console.log(err)\n      });\n    }\n  },\n  components: {\n    Draggable\n  },\n  created() {\n    this.getProcess()\n  }\n}\n</script>\n\n<style scoped>\n.chosen {\n  border: solid 2px #3089dc !important;\n}\n.movable-item {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProcess.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProcess.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddProcess.vue?vue&type=template&id=78c77a1e&scoped=true&\"\nimport script from \"./AddProcess.vue?vue&type=script&lang=js&\"\nexport * from \"./AddProcess.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddProcess.vue?vue&type=style&index=0&id=78c77a1e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78c77a1e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProcess.vue?vue&type=style&index=0&id=78c77a1e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddProcess.vue?vue&type=style&index=0&id=78c77a1e&scoped=true&lang=css&\""],"sourceRoot":""}