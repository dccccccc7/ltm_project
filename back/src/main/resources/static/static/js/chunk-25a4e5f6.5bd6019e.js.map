{"version":3,"sources":["webpack:///./src/network/request.js","webpack:///./src/views/dataAnalysis/ProductionSchedule.vue?f0f5","webpack:///./src/views/dataAnalysis/ProductionSchedule.vue?f05a","webpack:///src/views/dataAnalysis/ProductionSchedule.vue","webpack:///./src/views/dataAnalysis/ProductionSchedule.vue?ec23","webpack:///./src/views/dataAnalysis/ProductionSchedule.vue"],"names":["request","config","Promise","resolve","reject","instance","axios","create","timeout","then","res","catch","err","render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_v","directives","name","rawName","value","expression","domProps","on","$event","target","composing","currentDate","getDemand_ids","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","demand_id","multiple","getData","_l","item","_s","staticRenderFns","data","demand_ids","categorys","realCounts","planCounts","mounted","drawChart","methods","url","method","params","date","console","log","myChart","$echarts","init","document","getElementById","title","text","subtext","tooltip","trigger","legend","toolbox","show","feature","dataView","magicType","saveAsImage","calculable","xAxis","yAxis","series","setOption","option","component"],"mappings":"uLAUO,SAASA,EAAQC,GACpB,OAAO,IAAIC,SAAS,SAACC,EAASC,GAE1B,IAAMC,EAAWC,IAAMC,OAAO,CAC1BC,QAAS,MAGbH,EAASJ,GAAQQ,MAAK,SAAAC,GAClBP,EAAQO,MACTC,OAAM,SAAAC,GACLR,EAAOQ,W,yDCpBnB,yBAAmgB,EAAG,G,yCCAtgB,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,uBAAuB,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,QAAQ,MAAQ,SAAS,CAACH,EAAG,QAAQ,CAACG,YAAY,CAAC,MAAQ,OAAO,cAAc,OAAO,YAAY,SAAS,CAACP,EAAIQ,GAAG,YAAYJ,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAe,YAAEa,WAAW,gBAAgBN,YAAY,CAAC,YAAY,QAAQD,MAAM,CAAC,KAAO,QAAQQ,SAAS,CAAC,MAASd,EAAe,aAAGe,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAWA,EAAOC,OAAOC,YAAqBlB,EAAImB,YAAYH,EAAOC,OAAOL,QAAO,SAASI,GAAQ,OAAOhB,EAAIoB,cAAcpB,EAAImB,sBAAsBf,EAAG,SAAS,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAa,UAAEa,WAAW,cAAcN,YAAY,CAAC,MAAQ,QAAQ,OAAS,OAAO,YAAY,OAAO,MAAQ,QAAQQ,GAAG,CAAC,OAAS,CAAC,SAASC,GAAQ,IAAIK,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKT,EAAOC,OAAOS,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEf,MAAM,OAAOkB,KAAO9B,EAAIgC,UAAUhB,EAAOC,OAAOgB,SAAWZ,EAAgBA,EAAc,IAAI,SAASL,GAAQ,OAAOhB,EAAIkC,QAAQlC,EAAIgC,eAAe,CAAC5B,EAAG,SAAS,CAACJ,EAAIQ,GAAG,iBAAiBR,EAAImC,GAAInC,EAAc,YAAE,SAASoC,GAAM,OAAOhC,EAAG,SAAS,CAACJ,EAAIQ,GAAGR,EAAIqC,GAAGD,UAAY,KAAKhC,EAAG,MAAM,CAACG,YAAY,CAAC,MAAQ,QAAQ,OAAS,QAAQ,aAAa,QAAQD,MAAM,CAAC,GAAK,eACp6CgC,EAAkB,G,YCoBtB,GACE5B,KAAM,qBACN6B,KAFF,WAGI,MAAO,CACLpB,YAAa,GACbqB,WAAY,GACZR,UAAW,cACXS,UAAW,CAAC,IAAlB,KACMC,WAAY,CAAC,EAAnB,GACMC,WAAY,CAAC,EAAnB,KAGEC,QAZF,WAaI3C,KAAK4C,aAEPC,QAAS,CACP1B,cADJ,SACA,cACMnB,KAAK+B,UAAY,cACjB/B,KAAKwC,UAAY,GACjBxC,KAAKyC,WAAa,GAClBzC,KAAK0C,WAAa,GAClB1C,KAAK4C,YACL,OAAN,OAAM,CAAN,CACQE,IAAK,uCACLC,OAAQ,MACRC,OAAQ,CACNC,KAAMA,KAEhB,kBACQ,EAAR,kBACQC,QAAQC,IAAI,EAApB,eACA,mBACQD,QAAQC,IAAItD,OAIhBoC,QArBJ,SAqBA,cACwB,gBAAdF,GACF/B,KAAKwC,UAAY,GACjBxC,KAAKyC,WAAa,GAClBzC,KAAK0C,WAAa,GAClB1C,KAAK4C,aAEL,OAAR,OAAQ,CAAR,CACUE,IAAK,kCACLC,OAAQ,MACRC,OAAQ,CACNjB,UAAWA,KAEvB,kBACU,EAAV,2BACU,EAAV,6BACU,EAAV,6BACU,EAAV,eACA,mBACUmB,QAAQC,IAAItD,OAKlB+C,UA7CJ,WA+CM,IAAN,oEACqB,MAAXQ,IACFA,EAAUpD,KAAKqD,SAASC,KAAKC,SAASC,eAAe,YAIvD,IAAN,GACQC,MAAO,CACLC,KAAM,SACNC,QAAS,QAAnB,gBAEQC,QAAS,CACPC,QAAS,QAEXC,OAAQ,CACNxB,KAAM,CAAC,SAAU,WAEnByB,QAAS,CACPC,MAAM,EACNC,QAAS,CACPC,SAAU,CAAtB,qBACYC,UAAW,CAAvB,sBACYC,YAAa,CAAzB,WAGQC,YAAY,EACZC,MAAO,CACf,CACU,KAAV,WACU,KAAV,iBAGQC,MAAO,CACf,CACU,KAAV,UAGQC,OAAQ,CAChB,CACU,KAAV,SACU,KAAV,MACU,KAAV,iBAEA,CACU,KAAV,SACU,KAAV,MACU,KAAV,mBAKMpB,EAAQqB,UAAUC,MCtImV,I,wBCQvWC,EAAY,eACd,EACA7E,EACAuC,GACA,EACA,KACA,WACA,MAIa,aAAAsC,E","file":"static/js/chunk-25a4e5f6.5bd6019e.js","sourcesContent":["import axios from 'axios'\n\n// axios.interceptors.request.use(config => {\n//   console.log(config)\n//   // 必须返回请求，否则后端无法获得\n//   return config\n// }, err => {\n//   console.log(err)\n// })\n\nexport function request(config) {\n    return new Promise(((resolve, reject) => {\n\n        const instance = axios.create({\n            timeout: 3000,\n        });\n\n        instance(config).then(res => {\n            resolve(res);\n        }).catch(err => {\n            reject(err);\n        })\n    }))\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=style&index=0&id=1ca831d4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=style&index=0&id=1ca831d4&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ProductionSchedule\"}},[_c('div',{attrs:{\"id\":\"searchBar\"}},[_c('form',{staticStyle:{\"width\":\"400px\",\"float\":\"left\"}},[_c('label',{staticStyle:{\"float\":\"left\",\"margin-left\":\"20px\",\"font-size\":\"20px\"}},[_vm._v(\" 请选择日期： \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentDate),expression:\"currentDate\"}],staticStyle:{\"font-size\":\"20px\"},attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.currentDate)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.currentDate=$event.target.value},function($event){return _vm.getDemand_ids(_vm.currentDate)}]}})])]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.demand_id),expression:\"demand_id\"}],staticStyle:{\"width\":\"400px\",\"height\":\"34px\",\"font-size\":\"20px\",\"float\":\"left\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.demand_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.getData(_vm.demand_id)}]}},[_c('option',[_vm._v(\"请选择客户需求订单编号\")]),_vm._l((_vm.demand_ids),function(item){return _c('option',[_vm._v(_vm._s(item))])})],2)]),_c('div',{staticStyle:{\"width\":\"800px\",\"height\":\"500px\",\"margin-top\":\"30px\"},attrs:{\"id\":\"canvas\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"ProductionSchedule\">\n    <div id=\"searchBar\">\n      <form style=\"width: 400px;float: left\">\n        <label style=\"float: left;margin-left: 20px;font-size: 20px\">\n          请选择日期：\n          <input type=\"date\" v-model=\"currentDate\" style=\"font-size: 20px\" @input=\"getDemand_ids(currentDate)\"></input>\n        </label>\n      </form>\n      <select style=\"width: 400px;height:34px;font-size: 20px;float: left\" v-model=\"demand_id\" @change=\"getData(demand_id)\">\n        <option>请选择客户需求订单编号</option>\n        <option v-for=\"item in demand_ids\">{{item}}</option>\n      </select>\n    </div>\n    <div id=\"canvas\" style=\"width: 800px;height:500px;margin-top: 30px\"></div>\n  </div>\n</template>\n\n<script>\nimport {request} from \"@/network/request\";\n\nexport default {\n  name: \"ProductionSchedule\",\n  data(){\n    return {\n      currentDate: '',\n      demand_ids: [],\n      demand_id: '请选择客户需求订单编号',\n      categorys: ['A','B'],\n      realCounts: [1,2],\n      planCounts: [1,2]\n    }\n  },\n  mounted() {\n    this.drawChart();\n  },\n  methods: {\n    getDemand_ids(date){\n      this.demand_id = '请选择客户需求订单编号'\n      this.categorys = []\n      this.realCounts = []\n      this.planCounts = []\n      this.drawChart()\n      request({\n        url: '/dataAnalysis/getDemandFormNosByDate',\n        method: 'get',\n        params: {\n          date: date\n        }\n      }).then(res => {\n        this.demand_ids = res.data\n        console.log(this.demand_ids)\n      }).catch(err =>{\n        console.log(err)\n      })\n    },\n    //把值赋给category、realCount、planCount\n    getData(demand_id){\n      if (demand_id === '请选择客户需求订单编号'){\n        this.categorys = []\n        this.realCounts = []\n        this.planCounts = []\n        this.drawChart()\n      } else {\n        request({\n          url: '/dataAnalysis/getFinishInfoById',\n          method: 'get',\n          params: {\n            demand_id: demand_id\n          }\n        }).then(res => {\n          this.categorys = res.data.categorys\n          this.realCounts = res.data.realCounts\n          this.planCounts = res.data.planCounts\n          this.drawChart()\n        }).catch(err =>{\n          console.log(err)\n        })\n      }\n\n    },\n    drawChart() {\n      // 基于准备好的dom，初始化echarts实例\n      let myChart = this.$echarts.getInstanceByDom(document.getElementById(\"canvas\"))\n      if (myChart == null) { // 如果不存在，就进行初始化\n        myChart = this.$echarts.init(document.getElementById(\"canvas\"));\n      }\n      // let myChart = this.$echarts.init(document.getElementById(\"canvas\"));\n      // 指定图表的配置项和数据\n      let option = {\n        title: {\n          text: '生产计划进度',\n          subtext: '需求单号：'+this.demand_id\n        },\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {\n          data: ['实际生产数量', '计划生产数量']\n        },\n        toolbox: {\n          show: true,\n          feature: {\n            dataView: {show: true, readOnly: false},\n            magicType: {show: true, type: ['bar']},\n            saveAsImage: {show: true}\n          }\n        },\n        calculable: true,\n        xAxis: [\n          {\n            type: 'category',\n            data: this.categorys\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value'\n          }\n        ],\n        series: [\n          {\n            name: '实际生产数量',\n            type: 'bar',\n            data: this.realCounts\n          },\n          {\n            name: '计划生产数量',\n            type: 'bar',\n            data: this.planCounts\n          }\n        ]\n      };\n      // 使用刚指定的配置项和数据显示图表。\n      myChart.setOption(option);\n    }\n  },\n};\n</script>\n\n<style scoped>\n*{\n  margin: 0px;\n  padding: 0px;\n}\n#ProductionSchedule {\n\n}\n#searchBar{\n  padding-top: 20px;\n  height: 50px;\n}\n#canvas{\n  margin-left: 50px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductionSchedule.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductionSchedule.vue?vue&type=template&id=1ca831d4&scoped=true&\"\nimport script from \"./ProductionSchedule.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductionSchedule.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductionSchedule.vue?vue&type=style&index=0&id=1ca831d4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ca831d4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}