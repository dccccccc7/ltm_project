(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-077f42fd"],{"0f16":function(t,e,i){"use strict";var n=i("5018"),o=i.n(n);o.a},4791:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("d3b7"),i("4f6c");var n=i("bc3a"),o=i.n(n);function a(t){return new Promise((function(e,i){var n=o.a.create({timeout:45e3});n(t).then((function(t){console.log("成功"),e(t)})).catch((function(t){console.log("失败"),i(t)}))}))}},"4f6c":function(t,e,i){"use strict"},5018:function(t,e,i){},"60a6":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"80%",height:"80%",margin:"10px auto 0"}},[i("div",{staticStyle:{width:"100%",display:"flex","margin-bottom":"20px","justify-content":"flex-start","flex-wrap":"wrap"}},[i("div",{staticStyle:{width:"100%",height:"auto","margin-bottom":"10px",display:"flex","justify-content":"flex-start","flex-wrap":"wrap"}},[t._m(0),i("div",{staticStyle:{"margin-left":"50px",height:"80px",display:"flex","justify-content":"flex-start"}},[i("div",{staticStyle:{"margin-right":"80px",height:"80px","line-height":"80px"}},[t._v("设备编号: "),i("span",{staticStyle:{"font-size":"small","line-height":"80px"}},[t._v(t._s(t.$route.query.info.equipment_id))])]),i("div",[t._v("设备名称:"),i("span",{staticStyle:{"font-size":"small","line-height":"80px"}},[t._v(t._s(t.$route.query.info.name))])])]),i("div",{staticStyle:{display:"flex",width:"60%","flex-direction":"row-reverse"}},[i("div",{staticStyle:{height:"40px","line-height":"40px","margin-top":"40px",display:"flex"}},[i("el-button",{on:{click:t.increment}},[t._v("增加")])],1)])])]),i("div",{staticStyle:{width:"100%"}},[[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{prop:"storage_id",label:"库区编号"}}),i("el-table-column",{attrs:{prop:"shelf_id",label:"货架编号",width:"180"}}),i("el-table-column",{attrs:{prop:"id",label:"库位信息"}}),i("el-table-column",{attrs:{prop:"quantity",label:"库存数量"}})],1),i("div",{staticClass:"block",staticStyle:{padding:"10px","margin-top":"10px"}},[i("el-pagination",{attrs:{"hide-on-single-page":!0,total:t.total,background:"",layout:"total,prev, pager, next, jumper","page-size":t.page.pages},on:{"prev-click":t.preclick,"next-click":t.nextclick,"current-change":t.curChange}})],1)]],2),i("el-dialog",{attrs:{title:"提示",visible:t.jinhuoFlag,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.jinhuoFlag=e}}},[i("el-form",{ref:"jinhuoInfo",staticClass:"demo-ruleForm",attrs:{model:t.jinhuoInfo,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"库区编号",prop:"storage_id",rules:[{required:!0,message:"库区编号不可为空"}]}},[i("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:t.jinhuoInfo.storage_id,callback:function(e){t.$set(t.jinhuoInfo,"storage_id","string"===typeof e?e.trim():e)},expression:"jinhuoInfo.storage_id"}})],1),i("el-form-item",{attrs:{label:"货架编号",prop:"shelf_id",rules:[{required:!0,message:"货架编号不可为空"}]}},[i("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:t.jinhuoInfo.shelf_id,callback:function(e){t.$set(t.jinhuoInfo,"shelf_id","string"===typeof e?e.trim():e)},expression:"jinhuoInfo.shelf_id"}})],1),i("el-form-item",{attrs:{label:"库位信息",prop:"location",rules:[{required:!0,message:"库区信息不可为空"}]}},[i("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:t.jinhuoInfo.location,callback:function(e){t.$set(t.jinhuoInfo,"location","string"===typeof e?e.trim():e)},expression:"jinhuoInfo.location"}})],1),i("el-form-item",{attrs:{label:"进库数量",prop:"quantity",rules:[{required:!0,message:"进货数量不可为空"}]}},[i("el-input",{attrs:{type:"age",autocomplete:"off"},model:{value:t.jinhuoInfo.quantity,callback:function(e){t.$set(t.jinhuoInfo,"quantity","string"===typeof e?e.trim():e)},expression:"jinhuoInfo.quantity"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.jinhuo("jinhuoInfo")}}},[t._v("提交")]),i("el-button",{on:{click:function(e){return t.resetForm("jinhuoInfo")}}},[t._v("重置")])],1)],1)],1),i("el-dialog",{attrs:{title:"提示",visible:t.updateFlag,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.updateFlag=e}}},[i("el-form",{ref:"updateInfo",staticClass:"demo-ruleForm",attrs:{model:t.updateInfo,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"修改数量",prop:"quantity",rules:[{required:!0,message:"数量不可为空"}]}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.updateInfo.quantity,callback:function(e){t.$set(t.updateInfo,"quantity",t._n(e))},expression:"updateInfo.quantity"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.incrementNum("updateInfo")}}},[t._v("增加")]),i("el-button",{on:{click:function(e){return t.decrementNum("updateInfo")}}},[t._v("减少")])],1)],1)],1)],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"10%",height:"80px",margin:"0",padding:"0",display:"flex","justify-content":"flex-start"}},[i("h2",[t._v("设备信息:")])])}],a=i("4791"),s={name:"equipmentInfoDetail",data:function(){return{updateFlag:!1,updateInfo:{storage_id:"",shelf_id:"",location:"",id:"",quantity:"",update:"",type:"",user:""},updateMax:0,jinhuoFlag:!1,jinhuoInfo:{storage_id:"",shelf_id:"",location:"",id:"",quantity:"",type:"",user:""},tableData:[],page:{pages:15,current:1},total:0}},created:function(){this.getData()},methods:{preclick:function(t){var e=this;this.page.current=t,this.loading=!0,setTimeout((function(){e.getData(),e.loading=!1}),1e3)},nextclick:function(t){var e=this;this.page.current=t,this.loading=!0,setTimeout((function(){e.getData(),e.loading=!1}),1e3)},curChange:function(t){var e=this;this.page.current=t,this.loading=!0,setTimeout((function(){e.getData(),e.loading=!1}),1e3)},getData:function(){var t=this,e={type:"equipment",current:this.page.current,pages:this.page.pages,goods_id:this.$route.query.info.equipment_id};console.log("equipment的getdata,req：",e),Object(a["a"])({url:"goods/locationItem",params:e,method:"get"}).then((function(e){console.log("equipment的getdata：res",e),!0===e.data.success?(t.tableData=e.data.result.records,t.total=e.data.total):t.$message.error("库区无此类物品存放")})).catch((function(t){}))},increment:function(){this.jinhuoFlag=!0},jinhuo:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var i={user:e.$store.getters.userinfo.id,type:"equipment",id:e.$route.query.info.equipment_id,storage_id:e.jinhuoInfo.storage_id,shelf_id:e.jinhuoInfo.shelf_id,location:e.jinhuoInfo.location,quantity:e.jinhuoInfo.quantity};console.log("你也小时啊",i),Object(a["a"])({url:"goods/addGoods",params:i,method:"get"}).then((function(t){console.log("金库信息的res",t),!0===t.data.success?e.$message({type:"success",message:"申请成功"}):e.$message.error("申请失败")})).catch((function(t){console.log("金库信息的err",t),e.$message.error("服务器异常")})),e.jinhuoFlag=!1})),this.$refs[t].resetFields()},incrementNum:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var i={storage_id:e.updateInfo.storage_id,shelf_id:e.updateInfo.shelf_id,location:e.updateInfo.location,id:e.updateInfo.id,quantity:e.updateInfo.quantity,update:"increment",type:"equipment",user:e.$store.getters.userinfo.id};Object(a["a"])({url:"",params:i,method:"get"}).then((function(t){!0===t.data.success?e.$message({type:"success",message:"申请成功"}):e.$message.error("申请失败")})).catch((function(t){e.$message.error("服务器异常")}))})),this.updateFlag=!1,this.$refs[t].resetFields()},decrementNum:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;var i={storage_id:e.updateInfo.storage_id,shelf_id:e.updateInfo.shelf_id,location:e.updateInfo.location,id:e.updateInfo.id,quantity:e.updateInfo.quantity,update:"decrement",type:"equipment",user:e.$store.getters.userinfo.id};Object(a["a"])({url:"",params:i,method:"get"}).then((function(t){!0===t.data.success?e.$message({type:"success",message:"申请成功"}):e.$message.error("申请失败")})).catch((function(t){e.$message.error("服务器异常")}))})),this.updateFlag=!1,this.$refs[t].resetFields()},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},handleSearch:function(t,e){this.updateFlag=!0,this.updateInfo.storage_id=e.storage_id,this.updateInfo.shelf_id=e.shelf_id,this.updateInfo.location=e.location,this.updateInfo.id=this.$route.query.info.equipment_id,this.updateInfo.type="equipment",this.updateMax=e.quantity,console.log("ths:",this.updateInfo)}}},r=s,l=(i("0f16"),i("2877")),u=Object(l["a"])(r,n,o,!1,null,"22d59887",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-077f42fd.8400ce64.js.map