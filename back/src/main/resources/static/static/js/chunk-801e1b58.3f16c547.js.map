{"version":3,"sources":["webpack:///./src/network/request.js","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./src/views/systemManagement/utils.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./src/assets/icon/lock.svg","webpack:///./src/assets/icon/user2.svg","webpack:///./src/views/Login.vue?bfcd","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?6058"],"names":["request","config","Promise","resolve","reject","instance","axios","create","timeout","then","res","catch","err","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","f","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","redefine","fails","setInternalState","set","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","RegExp","RegExpPrototype","prototype","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","flags","sticky","thisIsRegExp","this","patternIsRegExp","flagsAreUndefined","undefined","constructor","source","call","indexOf","replace","result","proxy","key","configurable","get","it","keys","index","length","my_request","vue","data","Object","d","store","getters","userinfo","accessList","console","log","user","code","message","$message","error","time_formatter","time","date","Date","format","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","k","test","$1","getFullYear","substr","isObject","setPrototypeOf","module","exports","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","render","_vm","_h","$createElement","_c","_self","isLogin","staticClass","_v","_s","countNumber","attrs","ref","form","rules","querySearch","on","handleSelect","scopedSlots","_u","fn","item","name","value","model","callback","$$v","$set","expression","nativeOn","$event","type","_k","keyCode","login","staticRenderFns","username","password","timer","methods","$refs","validate","valid","url","method","user_name","window","sessionStorage","setItem","JSON","stringify","reset","resetFields","cb","activated","setInterval","beforeRouteLeave","clearInterval","next","beforeDestroy","component"],"mappings":"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","file":"static/js/chunk-801e1b58.3f16c547.js","sourcesContent":["import axios from 'axios'\n\n// axios.interceptors.request.use(config => {\n//   console.log(config)\n//   // 必须返回请求，否则后端无法获得\n//   return config\n// }, err => {\n//   console.log(err)\n// })\n\nexport function request(config) {\n    return new Promise(((resolve, reject) => {\n\n        const instance = axios.create({\n            timeout: 3000,\n        });\n\n        instance(config).then(res => {\n            resolve(res);\n        }).catch(err => {\n            reject(err);\n        })\n    }))\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar setInternalState = require('../internals/internal-state').set;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.github.io/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) setInternalState(result, { sticky: sticky });\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.github.io/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","import {request} from \"@/network/request\";\nimport store from \"@/store\";\n\nexport function my_request(vue, config) {\n  if (config.data instanceof Object) {\n    let d = store.getters.userinfo;\n    delete d.accessList;\n    console.log(d);\n    config.data.user = store.getters.userinfo;\n  }\n  config.timeout = config.timeout ? config.timeout : 2500;\n  // config.baseURL = 'dev-api/';\n  return new Promise(((resolve, reject) => {\n    request(config)\n      .then(res => {\n        let code = res.data.code;\n        if (code === 200) {\n          resolve(res);\n        } else if (code === -1) {\n          let message = res.data.message;\n          vue.$message.error(message);\n          // reject(code);\n        } else if (code === 100) {\n          reject(res);\n        }\n      })\n      .catch(err => {\n        vue.$message.error(\"服务器开小差了!\")\n      });\n  }));\n}\n\nexport function time_formatter(time) {\n  if (!time) {\n    return \"\"\n  }\n  let date = new Date(time);\n  return date.format(\"yyyy-MM-dd\");\n}\n\n\n\n\n\n\nDate.prototype.format = function(fmt)\n{ //author: meizz\n  \n  var o = {\n    \"M+\" : this.getMonth()+1,                 //月份\n    \"d+\" : this.getDate(),                    //日\n    \"h+\" : this.getHours(),                   //小时\n    \"m+\" : this.getMinutes(),                 //分\n    \"s+\" : this.getSeconds(),                 //秒\n    \"q+\" : Math.floor((this.getMonth()+3)/3), //季度\n    \"S\"  : this.getMilliseconds()             //毫秒\n  };\n  if(/(y+)/.test(fmt))\n    fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));\n  for(var k in o)\n    if(new RegExp(\"(\"+ k +\")\").test(fmt))\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\n  return fmt;\n}\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","module.exports = __webpack_public_path__ + \"static/img/lock.0dd21f5e.svg\";","module.exports = __webpack_public_path__ + \"static/img/user2.024a66bb.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isLogin)?_c('div',{staticClass:\"login_container\"},[_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"box_item\"},[_c('div',{staticClass:\"login_box\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 欢迎登录 \")]),_c('div',{attrs:{\"id\":\"bar\"}}),_c('div',{staticClass:\"form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"0px\"}},[_c('el-form-item',{staticClass:\"input_content\",attrs:{\"prop\":\"username\"}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon/user2.svg\"),\"alt\":\"\"}}),_c('div',{staticClass:\"bar2\"}),_c('el-autocomplete',{attrs:{\"size\":\"large\",\"placeholder\":\"点我选择测试账号\",\"fetch-suggestions\":_vm.querySearch},on:{\"select\":_vm.handleSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.name + \" \" + item.value))])]}}],null,false,1767570309),model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{staticClass:\"input_content\",attrs:{\"prop\":\"password\"}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/icon/lock.svg\"),\"alt\":\"\"}}),_c('div',{staticClass:\"bar2\"}),_c('el-input',{attrs:{\"show-password\":\"\",\"size\":\"large\",\"placeholder\":\"点击上面测试账号自动填入密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label-width\":\"0px\",\"id\":\"login_button\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)],1)],1)])])]):_c('div',[_c('div',{staticClass:\"tip_box\"},[_c('h1',[_vm._v(\"您已经登录\")]),_c('h1',[_vm._v(\"正在跳转…… \"+_vm._s(_vm.countNumber))]),_c('router-link',{attrs:{\"to\":\"main\"}},[_vm._v(\"点击立刻跳转\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login_container\" v-if=\"!isLogin\">\n    <div class=\"bg\"></div>\n    <div class=\"box_item\">\n      <div class=\"login_box\">\n        <div class=\"title\">\n          欢迎登录\n        </div>\n        <div id=\"bar\"></div>\n        <div class=\"form\">\n          <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"0px\">\n            <el-form-item class=\"input_content\" prop=\"username\">\n              <img class=\"icon\" src=\"@/assets/icon/user2.svg\" alt=\"\">\n              <div class=\"bar2\"></div>\n              <el-autocomplete v-model=\"form.username\" size=\"large\"\n                               placeholder=\"点我选择测试账号\"\n                               :fetch-suggestions=\"querySearch\"\n                               @select=\"handleSelect\"\n              >\n                <template slot-scope=\"{ item }\">\n                  <div class=\"name\">{{ item.name + \"  \" + item.value }}</div>\n                </template>\n\n              </el-autocomplete>\n            </el-form-item>\n            <el-form-item class=\"input_content\" prop=\"password\">\n              <img class=\"icon\" src=\"@/assets/icon/lock.svg\" alt=\"\">\n              <div class=\"bar2\"></div>\n              <el-input v-model=\"form.password\" @keyup.enter.native=\"login\" show-password size=\"large\"\n                        placeholder=\"点击上面测试账号自动填入密码\"></el-input>\n            </el-form-item>\n            <el-form-item label-width=\"0px\" id=\"login_button\">\n              <el-button @click=\"login\" type=\"primary\">登录</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div v-else>\n    <div class=\"tip_box\">\n      <h1>您已经登录</h1>\n      <h1>正在跳转…… {{ countNumber }}</h1>\n      <router-link to=\"main\">点击立刻跳转</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {my_request} from \"@/views/systemManagement/utils\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      form: {\n        username: '',\n        password: '',\n      },\n      rules: {\n        username: [\n          {required: true, message: \"请输入用户名\", trigger: 'blur'}\n        ],\n        password: [\n          {required: true, message: \"请输入密码\", trigger: 'blur'}\n        ]\n      },\n      countNumber: 4,\n      timer: {},\n      isLogin: false,\n    }\n  },\n  methods: {\n    login() {\n      this.$refs.form.validate((valid) => {\n        if (!valid) return;\n        return my_request(this, {\n          url: 'data/login/login',\n          method: 'post',\n          data: {\n            user_name: this.form.username,\n            password: this.form.password,\n          },\n        }).then(res => {\n          this.$message.success(\"登录成功！\");\n          console.log(res.data.userinfo);\n          this.$store.commit(\"login/SET_USERINFO\", res.data.userinfo);\n          console.log(this.$store.getters.userinfo);\n          window.sessionStorage.setItem(\"userinfo\", JSON.stringify(res.data.userinfo));\n          if (this.$store.getters.userinfo) {\n            this.$router.push('/main')\n          }\n        }).catch(err => {\n          this.reset();\n          this.$message.error(\"用户名或密码错误！\")\n        });\n      });\n    },\n    reset() {\n      this.$refs.form.resetFields();\n    }\n    ,\n    handleSelect(item) {\n      this.form.password = \"100001\"\n    }\n    ,\n    querySearch(queryString, cb) {\n      cb([\n          {\"value\": \"admin\", \"name\": \"超级管理测试\"},\n          {\"value\": \"100002\", \"name\": \"分析报表权限\"},\n          {\"value\": \"100003\", \"name\": \"生产过程权限\"},\n          {\"value\": \"100004\", \"name\": \"质量管理权限\"},\n      ]);\n    }\n    ,\n\n  },\n  // created() {\n  //   let login = window.sessionStorage.getItem(\"userinfo\") != null;\n  //   this.countNumber = 4;\n  //   if (login) {\n  //     this.timer = setInterval(() => {\n  //       this.countNumber--;\n  //       if (this.countNumber === 0) {\n  //         this.$router.push(\"/main\");\n  //       }\n  //     }, 1000)\n  //   }\n  //   this.isLogin = login;\n  // },\n  activated() {\n    let login = window.sessionStorage.getItem(\"userinfo\") != null;\n    this.countNumber = 4;\n    if (login) {\n      this.timer = setInterval(() => {\n        this.countNumber--;\n        if (this.countNumber === 0) {\n          this.$router.push(\"/main\");\n        }\n      }, 1000)\n    }\n    this.isLogin = login;\n  },\n  beforeRouteLeave(to,from ,next) {\n    clearInterval(this.timer);\n    next()\n  },\n  beforeDestroy() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n}\n</script>\n\n<style>\n.login_container {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n}\n\n.login_box {\n  width: 600px;\n  height: 550px;\n  background: #FFFFFF;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex-direction: column;\n\n}\n\n.login_container .bg {\n  flex-basis: 60%;\n  height: 100%;\n  background: url(\"../assets/pic/login_background.jpg\");\n}\n\n.login_container .box_item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-basis: 40%;\n}\n\n\n.login_box .title {\n  margin-top: 50px;\n  font-size: 22px;\n  font-weight: bold;\n}\n\n.login_box #bar {\n  width: 150px;\n  height: 2px;\n  background: #868686;\n  margin-top: 5px;\n}\n\n.login_box .form {\n  margin-top: 80px;\n  width: 100%;\n}\n\n.login_box .icon {\n  display: block;\n  width: 40px;\n  margin-right: 10px;\n}\n\n#login_button .el-button {\n  margin-top: 30px;\n  width: 420px;\n  height: 45px;\n  font-size: medium;\n\n}\n\n.login_container .el-form-item {\n  margin-bottom: 45px;\n  position: relative;\n}\n\n.login_container .el-form-item__content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: nowrap;\n}\n\n.login_container .el-input {\n\n  width: 350px;\n  padding: 0;\n  font-size: large;\n}\n\n.login_container .el-form-item__error {\n  padding-top: 6px;\n  left: 28%;\n\n}\n\n.tip_box {\n  margin-top: 60px;\n}\n\n.login_container .bar2 {\n  width: 2px;\n  height: 25px;\n  background: rgba(19, 19, 19, 0.47);\n  margin-right: 20px;\n}\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=bb66814e&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}