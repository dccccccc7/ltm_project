(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c9347c8"],{"0970":function(e,t,i){"use strict";var o=i("c8aa"),n=i.n(o);n.a},"1bab":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("d3b7");var o=i("bc3a"),n=i.n(o);function a(e){return new Promise((function(t,i){var o=n.a.create({timeout:3e3});o(e).then((function(e){t(e)})).catch((function(e){i(e)}))}))}},4791:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("d3b7"),i("4f6c");var o=i("bc3a"),n=i.n(o);function a(e){return new Promise((function(t,i){var o=n.a.create({timeout:45e3});o(e).then((function(e){console.log("成功"),t(e)})).catch((function(e){console.log("失败"),i(e)}))}))}},"4f6c":function(e,t,i){"use strict"},"7c09":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{width:"80%",height:"80%",margin:"40px auto 0"}},[i("div",{staticStyle:{width:"90%",height:"40px",display:"flex","justify-content":"flex-end"}},[i("el-button",{on:{click:function(t){e.dialogVisible1=!0}}},[e._v("转移所有物品")])],1),[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[i("el-table-column",{attrs:{prop:"id",label:"库位信息"}}),i("el-table-column",{attrs:{prop:"goods_id",label:"物品编号"}}),i("el-table-column",{attrs:{prop:"goods_name",label:"物品名称"}}),i("el-table-column",{attrs:{prop:"types",label:"物品类型"}}),i("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.transfer(t.$index,t.row)}}},[e._v("转移 ")])]}}])})],1)],i("div",{staticClass:"block",staticStyle:{padding:"10px"}},[i("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.total,background:"",layout:"total,prev, pager, next, jumper","page-size":e.page.pages},on:{"prev-click":e.preclick,"next-click":e.nextclick,"current-change":e.curChange}})],1),i("el-dialog",{attrs:{title:"转移后位置信息",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"info",staticClass:"demo-ruleForm",attrs:{model:e.info,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"库区编号",prop:"storage_id",rules:[{required:!0,message:"库区编号不能为空"}]}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.info.storage_id,callback:function(t){e.$set(e.info,"storage_id","string"===typeof t?t.trim():t)},expression:"info.storage_id"}})],1),i("el-form-item",{attrs:{label:"货架编号",prop:"shelf_id",rules:[{required:!0,message:"货架编号不能为空"}]}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.info.shelf_id,callback:function(t){e.$set(e.info,"shelf_id","string"===typeof t?t.trim():t)},expression:"info.shelf_id"}})],1),i("el-form-item",{attrs:{label:"库位信息",prop:"location",rules:[{required:!0,message:"库位信息不能为空"}]}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.info.location,callback:function(t){e.$set(e.info,"location","string"===typeof t?t.trim():t)},expression:"info.location"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("info")}}},[e._v("提交")]),i("el-button",{on:{click:function(t){return e.resetForm("info")}}},[e._v("重置")])],1)],1)],1),i("el-dialog",{attrs:{title:"转移后位置信息",visible:e.dialogVisible1,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible1=t}}},[i("el-form",{ref:"info",staticClass:"demo-ruleForm",attrs:{model:e.info,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"库区编号",prop:"storage_id",rules:[{required:!0,message:"库区编号不能为空"}]}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.info.storage_id,callback:function(t){e.$set(e.info,"storage_id","string"===typeof t?t.trim():t)},expression:"info.storage_id"}})],1),i("el-form-item",{attrs:{label:"货架编号",prop:"shelf_id",rules:[{required:!0,message:"货架编号不能为空"}]}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.info.shelf_id,callback:function(t){e.$set(e.info,"shelf_id","string"===typeof t?t.trim():t)},expression:"info.shelf_id"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm1("info")}}},[e._v("提交")]),i("el-button",{on:{click:function(t){return e.resetForm("info")}}},[e._v("重置")])],1)],1)],1)],2)},n=[],a=i("4791"),s=(i("1bab"),{name:"shelfInfo",data:function(){return{page:{pages:10,current:1},total:1,item:{index:"",row:""},info:{storage_id:"",shelf_id:"",location:""},dialogVisible:!1,dialogVisible1:!1,tableData:[{id:"库位信息",types:"物品",goods_id:"si213",quantity:"shu量"}]}},created:function(){this.getData()},methods:{preclick:function(e){var t=this;this.page.current=e,this.loading=!0,setTimeout((function(){t.getData(),t.loading=!1}),1e3)},nextclick:function(e){var t=this;this.page.current=e,this.loading=!0,setTimeout((function(){t.getData(),t.loading=!1}),1e3)},curChange:function(e){var t=this;this.page.current=e,this.loading=!0,setTimeout((function(){t.getData(),t.loading=!1}),1e3)},getData:function(){var e=this,t={storage_id:this.$route.query.storage_id,current:this.page.current,pages:this.page.pages,id:this.$route.query.id};Object(a["a"])({url:"goods/search",params:t,method:"get"}).then((function(t){console.log(".asdgetData的res,",t),!0===t.data.success?e.tableData=t.data.result:e.$message.error("查询失败")})).catch((function(t){console.log("getData的err",t),e.$message.error("服务器异常")}))},transfer:function(e,t){this.item={index:e,row:t},console.log(this.item),this.dialogVisible=!0},submitForm1:function(e){var t=this;this.$refs[e].validate((function(i){if(!i)return console.log("error submit!!"),!1;var o={storage_id:t.$route.query.storage_id,shelf_id:t.$route.query.id,newStorage_id:t.info.storage_id,newShelf_id:t.info.shelf_id};console.log("转移整个货架的req",o),Object(a["a"])({url:"shelf/move",methods:"get",params:o}).then((function(i){console.log("转移整个货架的res",i),!0===i.data.success?t.$message({type:"success",message:"转移成功"}):t.$message.error("转移失败"),t.dialogVisible=!1,t.getData(),t.dialogVisible1=!1,t.$refs[e].resetFields()})).catch((function(e){console.log("转移整个货架的err",e),t.$message.error("服务器异常")})),t.dialogVisible1=!1}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(i){if(!i)return console.log("error submit!!"),!1;var o={storage_id:t.$route.query.storage_id,shelf_id:t.$route.query.id,location:t.item.row.id,newStorage_id:t.info.storage_id,newShelf_id:t.info.shelf_id,newLocation:t.info.location};console.log("转移物品的req",o),Object(a["a"])({url:"goods/move",methods:"get",params:o}).then((function(e){console.log("转移物品的res",e),t.dialogVisible=!1,t.getData(),!0===e.data.success?t.$message({type:"success",message:"转移成功"}):t.$message.error("转移失败"),t.dialogVisible=!1})).catch((function(e){console.log("转移物品的err",e),t.$message.error("服务器异常")})),t.$refs[e].resetFields(),t.dialogVisible=!1}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},resetForm:function(e){this.$refs[e].resetFields()}}}),r=s,l=(i("0970"),i("2877")),c=Object(l["a"])(r,o,n,!1,null,"f79c4eb4",null);t["default"]=c.exports},c8aa:function(e,t,i){}}]);
//# sourceMappingURL=chunk-7c9347c8.b7d3b4da.js.map