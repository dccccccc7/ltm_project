(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a13c1fc"],{"305f":function(e,t,a){},4791:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("d3b7"),a("4f6c");var o=a("bc3a"),n=a.n(o);function s(e){return new Promise((function(t,a){var o=n.a.create({timeout:45e3});o(e).then((function(e){console.log("成功"),t(e)})).catch((function(e){console.log("失败"),a(e)}))}))}},4859:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"30px 50px"}},[[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"workshop_id",label:"车间编号"}}),a("el-table-column",{attrs:{prop:"goods_id",label:"物品编号"}}),a("el-table-column",{attrs:{prop:"goods_name",label:"物品名称"}}),a("el-table-column",{attrs:{prop:"quantity",label:"申请数量"}}),a("el-table-column",{attrs:{prop:"created_time",label:"申请时间"}}),a("el-table-column",{attrs:{prop:"created_by",label:"申请人"}}),a("el-table-column",{attrs:{prop:"modified_by",label:"仓库管理员"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.approval(t.$index,t.row)}}},[e._v("批准")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deny(t.$index,t.row)}}},[e._v("拒绝")])]}}])})],1)],a("div",{staticClass:"block",staticStyle:{padding:"10px","margin-top":"10px"}},[a("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.total,background:"",layout:"total,prev, pager, next, jumper","page-size":e.page.pages},on:{"prev-click":e.preclick,"next-click":e.nextclick,"current-change":e.curChange}})],1)],2)},n=[],s=a("4791"),r={name:"itemapproval",data:function(){return{enough:!0,input:"",tableData:[{workshop_id:"a",goods_id:"a",goods_name:"a",quantity:100,created_time:"a",created_by:"a",modified_by:"2a",storage_quantity:null},{workshop_id:"b",goods_id:"a",goods_name:"a",quantity:25,created_time:"a",created_by:"a",modified_by:"2a",storage_quantity:""},{workshop_id:"c",goods_id:"a",goods_name:"a",quantity:11,created_time:"a",created_by:"a",modified_by:"2a",storage_quantity:""},{workshop_id:"d",goods_id:"a",goods_name:"a",quantity:80,created_time:"a",created_by:"a",modified_by:"2a",storage_quantity:""}],loading:!1,total:1,page:{pages:13,current:1}}},created:function(){this.getData()},methods:{preclick:function(e){var t=this;this.page.current=e,this.loading=!0,setTimeout((function(){t.getData(),t.loading=!1}),1e3)},nextclick:function(e){var t=this;this.page.current=e,this.loading=!0,setTimeout((function(){t.getData(),t.loading=!1}),1e3)},curChange:function(e){var t=this;this.page.current=e,this.loading=!0,setTimeout((function(){t.getData(),t.loading=!1}),1e3)},getData:function(){var e=this,t={current:this.page.current,pages:this.page.pages};console.log("请求数据getdata的参数req99:",t),Object(s["a"])({url:"goods/setApplyItem",method:"get",params:t}).then((function(t){console.log("请求数据getdata的返回值res:",t),!0===t.data.success?(e.tableData=t.data.result.records,e.total=t.data.result.total):e.$message.error("查询异常")})).catch((function(t){console.log("请求数据getdata的返回值err:",t),e.$message.error("服务器异常")}))},approval:function(e,t){var a=this,o={uuid:t.uuid,message:1,user:this.$store.getters.userinfo.id};console.log("批准的req",o),Object(s["a"])({url:"goods/managerConfirm",method:"get",params:o}).then((function(e){console.log("同意的res",e),!0===e.data.success?(a.$message({type:"success",message:"批准成功"}),a.getData()):a.$message.error("批准失败")})).catch((function(e){console.log("统一的err:",e),a.$message.error("服务器异常")}))},deny:function(e,t){var a=this,o={uuid:t.uuid,message:0,user:this.$store.getters.userinfo.id};console.log("批准的req",o),Object(s["a"])({url:"goods/managerConfirm",method:"get",params:o}).then((function(e){console.log("拒绝的res",e),!0===e.data.success?(a.$message({type:"success",message:"拒绝成功"}),a.getData()):a.$message.error("拒绝失败")})).catch((function(e){console.log("拒绝的err:",e),a.$message.error("服务器异常")}))}}},i=r,c=(a("8bdc"),a("2877")),l=Object(c["a"])(i,o,n,!1,null,"ded5975a",null);t["default"]=l.exports},"4f6c":function(e,t,a){"use strict"},"8bdc":function(e,t,a){"use strict";var o=a("305f"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-2a13c1fc.39a026d8.js.map