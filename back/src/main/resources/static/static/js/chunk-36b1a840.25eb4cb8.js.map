{"version":3,"sources":["webpack:///./src/network/request.js","webpack:///./src/views/production_process/procedure/Add.vue?e1b6","webpack:///src/views/production_process/procedure/Add.vue","webpack:///./src/views/production_process/procedure/Add.vue?93c6","webpack:///./src/views/production_process/procedure/Add.vue","webpack:///./src/views/production_process/procedure/Add.vue?4a7f"],"names":["request","config","Promise","resolve","reject","instance","axios","create","timeout","then","res","catch","err","render","_vm","this","_h","$createElement","_c","_self","attrs","ref","procedure","required","message","trigger","model","value","callback","$$v","$set","expression","costRules","staticStyle","on","$event","resetForm","_v","commit","staticRenderFns","name","data","Error","methods","$refs","formName","resetFields","validate","valid","confirmButtonText","cancelButtonText","type","url","method","comments","cost","operator_id","component"],"mappings":"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","file":"static/js/chunk-36b1a840.25eb4cb8.js","sourcesContent":["import axios from 'axios'\n\n// axios.interceptors.request.use(config => {\n//   console.log(config)\n//   // 必须返回请求，否则后端无法获得\n//   return config\n// }, err => {\n//   console.log(err)\n// })\n\nexport function request(config) {\n    return new Promise(((resolve, reject) => {\n\n        const instance = axios.create({\n            timeout: 3000,\n        });\n\n        instance(config).then(res => {\n            resolve(res);\n        }).catch(err => {\n            reject(err);\n        })\n    }))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"procedure-add-base\"}},[_c('el-form',{ref:\"procedureForm\",attrs:{\"model\":_vm.procedure,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\",\"rules\":{required: true, message: '请填写名称', trigger: 'blur'}}},[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\",\"maxlength\":\"32\",\"show-word-limit\":\"\"},model:{value:(_vm.procedure.name),callback:function ($$v) {_vm.$set(_vm.procedure, \"name\", $$v)},expression:\"procedure.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"cost\",\"prop\":\"cost\",\"rules\":_vm.costRules}},[_c('el-input-number',{staticStyle:{\"float\":\"left\"},attrs:{\"placeholder\":\"请输入成本\",\"precision\":2,\"controls\":false},model:{value:(_vm.procedure.cost),callback:function ($$v) {_vm.$set(_vm.procedure, \"cost\", $$v)},expression:\"procedure.cost\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"comments\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入产品描述\",\"maxlength\":\"45\",\"show-word-limit\":\"\"},model:{value:(_vm.procedure.comments),callback:function ($$v) {_vm.$set(_vm.procedure, \"comments\", $$v)},expression:\"procedure.comments\"}})],1),_c('el-form-item',[_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('procedureForm')}}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.commit}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"procedure-add-base\">\n    <el-form :model=\"procedure\" ref=\"procedureForm\" label-position=\"right\" label-width=\"80px\">\n\n      <el-form-item label=\"名称\" prop=\"name\"\n                    :rules=\"{required: true, message: '请填写名称', trigger: 'blur'}\">\n        <el-input v-model=\"procedure.name\" placeholder=\"请输入名称\" maxlength=\"32\" show-word-limit></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"cost\" prop=\"cost\"\n                    :rules=\"costRules\">\n        <el-input-number v-model=\"procedure.cost\" placeholder=\"请输入成本\"\n                         :precision=\"2\" :controls=\"false\"\n                         style=\"float: left\"></el-input-number>\n      </el-form-item>\n\n      <el-form-item label=\"描述\" prop=\"comments\">\n        <el-input type=\"textarea\" placeholder=\"请输入产品描述\" v-model=\"procedure.comments\" maxlength=\"45\" show-word-limit></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button @click=\"resetForm('procedureForm')\">重置</el-button>\n        <el-button @click=\"commit\" type=\"primary\">提交</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {request} from \"@/network/request\";\n\nexport default {\n  name: \"Add\",\n  data() {\n    let checkCost = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('请填写成本'))\n      } else {\n        if (value <= 0) {\n          callback(new Error('成本必须大于0'));\n        } else {\n          callback();\n        }\n      }\n    };\n    return {\n      procedure: {},\n      costRules: [\n        {validator: checkCost, trigger: 'blur'}\n      ]\n    }\n  },\n  methods: {\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    commit() {\n      this.$refs['procedureForm'].validate((valid) => {\n        if (valid) {\n          this.$confirm(\"是否提交？\", '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            request({\n              url: '/process/addProcedure',\n              method: 'post',\n              data: {\n                name: this.procedure.name,\n                comments: this.procedure.comments,\n                cost: this.procedure.cost,\n                operator_id: this.$store.getters.userinfo.id\n              }\n            }).then(res => {\n              if (res.data != \"更新失败\") {\n                this.resetForm(\"procedureForm\")\n                this.$message({\n                  type: 'success',\n                  message: '添加成功'\n                })\n              } else {\n                this.$message({\n                  type: 'error',\n                  message: res.data\n                })\n              }\n            }).catch(err => {\n              this.$message({\n                type: 'error',\n                message: '网络错误，修改失败'\n              })\n            });\n          })\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n#procedure-add-base {\n  margin-top: 50px;\n  margin-left: 5%;\n  margin-right: 40%;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=037be26b&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=037be26b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"037be26b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=037be26b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=037be26b&scoped=true&lang=css&\""],"sourceRoot":""}