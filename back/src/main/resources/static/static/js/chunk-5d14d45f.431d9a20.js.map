{"version":3,"sources":["webpack:///./src/components/storehouse/increSector.vue?2289","webpack:///src/components/storehouse/increSector.vue","webpack:///./src/components/storehouse/increSector.vue?d6d0","webpack:///./src/components/storehouse/increSector.vue","webpack:///./src/components/storehouse/tableSector.vue?4428","webpack:///./src/components/storehouse/increSector.vue?c2e3","webpack:///./src/network/request.js","webpack:///./src/network/requests/workshop_request.js","webpack:///./src/components/storehouse/shelfManage.vue?9aee","webpack:///src/components/storehouse/shelfManage.vue","webpack:///./src/components/storehouse/shelfManage.vue?7876","webpack:///./src/components/storehouse/shelfManage.vue","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/components/storehouse/shelfManage.vue?17b8","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/components/storehouse/tableSector.vue?1fab","webpack:///src/components/storehouse/tableSector.vue","webpack:///./src/components/storehouse/tableSector.vue?d785","webpack:///./src/components/storehouse/tableSector.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","storage","required","message","trigger","model","value","callback","$$v","$set","trim","expression","_l","domain","index","on","$event","preventDefault","removeDomain","_v","submitForm","addDomain","resetForm","staticRenderFns","name","data","shelfs","user","storage_id","methods","$refs","formName","validate","valid","console","log","req","url","method","res","success","type","resetFields","indexOf","item","splice","push","shelf_id","component","request","config","Promise","resolve","reject","instance","axios","create","timeout","then","catch","err","my_request","staticStyle","select","searchInput","slot","search","showSearchSectorInfo","showSearchShelfInfo","$router","path","query","sectorId","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","length","actualStart","argumentsLength","arguments","TypeError","$indexOf","arrayMethodIsStrict","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","searchElement","apply","undefined","input","directives","rawName","tableData","scopedSlots","_u","key","fn","scope","handleSearch","$index","row","handleDelete","total","page","pages","preclick","nextclick","curChange","loading","current","show","incrementShelfFlag","addShelfInfo","created","getData","setTimeout","params","id","handleClose","$confirm","o","result"],"mappings":"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","file":"static/js/chunk-5d14d45f.431d9a20.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainAdd\"},[_c('el-form',{ref:\"storage\",staticClass:\"demo-dynamic\",attrs:{\"model\":_vm.storage,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"storage_id\",\"label\":\"库区    :  \",\"rules\":[\n                      { required: true, message: '请输入库区编号', trigger: 'blur' } ]}},[_c('el-input',{staticClass:\"upupup\",attrs:{\"placeholder\":\"请输入库区编号\"},model:{value:(_vm.storage.storage_id),callback:function ($$v) {_vm.$set(_vm.storage, \"storage_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"storage.storage_id\"}})],1),_vm._l((_vm.storage.shelfs),function(domain,index){return _c('el-form-item',{attrs:{\"label\":'货架' + index+'    :',\"prop\":'shelfs.' + index + '.shelf_id',\"rules\":{\n                        required: true, message: '货架编号不可为空', trigger: 'blur'\n                      }}},[_c('el-input',{attrs:{\"placeholder\":\"请输入货架编号\"},model:{value:(domain.shelf_id),callback:function ($$v) {_vm.$set(domain, \"shelf_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"domain.shelf_id\"}}),_c('el-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.removeDomain(domain)}}},[_vm._v(\"删除\")])],1)}),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('storage')}}},[_vm._v(\"创建\")]),_c('el-button',{on:{\"click\":_vm.addDomain}},[_vm._v(\"增加货架\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('storage')}}},[_vm._v(\"重置\")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mainAdd\">\n    <el-form :model=\"storage\" ref=\"storage\" label-width=\"100px\" class=\"demo-dynamic\">\n      <el-form-item\n          prop=\"storage_id\"\n          label=\"库区    :  \"\n          :rules=\"[\n                        { required: true, message: '请输入库区编号', trigger: 'blur' },\n                        // {  message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\n                      ]\">\n        <el-input class=\"upupup\" v-model.trim=\"storage.storage_id\" placeholder=\"请输入库区编号\"></el-input>\n      </el-form-item>\n      <el-form-item\n          v-for=\"(domain, index) in storage.shelfs\"\n          :label=\"'货架' + index+'    :'\"\n          :prop=\"'shelfs.' + index + '.shelf_id'\"\n          :rules=\"{\n                          required: true, message: '货架编号不可为空', trigger: 'blur'\n                        }\">\n        <el-input v-model.trim=\"domain.shelf_id\" placeholder=\"请输入货架编号\"></el-input>\n        <el-button @click.prevent=\"removeDomain(domain)\">删除</el-button>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('storage')\">创建</el-button>\n        <el-button @click=\"addDomain\">增加货架</el-button>\n        <el-button @click=\"resetForm('storage')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {my_request} from \"@/network/requests/workshop_request\";\nimport shelfManage from \"@/components/storehouse/shelfManage\";\n\nexport default {\n  name: \"increSector\",\n  data(){\n    return{\n      storage: {\n        shelfs: [],\n        user: '',\n        storage_id: ''\n      },\n\n    }\n  },\n  methods:{\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let req = this.storage\n          req.user = this.$store.getters.userinfo.id\n          // req.user = 1\n          console.log(req)\n          my_request({\n            url: 'storage/create',\n            method: 'post',\n            data: req\n          }).then(res => {\n            if (res.data.success===true){\n              this.$message({\n                type: 'success',\n                message: '创建成功'\n              })\n            }else {\n              this.$message.error('创建失败')\n            }\n            //还得给他跳转到主页去\n          }).catch(err => {\n            this.$message.error('服务器异常')\n\n          })\n          console.log(this.storage)\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    removeDomain(item) {\n      var index = this.storage.shelfs.indexOf(item)\n      if (index !== -1) {\n        this.storage.shelfs.splice(index, 1)\n      }\n    },\n    addDomain() {\n      this.storage.shelfs.push({\n        shelf_id: '',\n      });\n    },\n\n  }\n}\n</script>\n\n<style scoped>\n.el-select .el-input {\n  width: 230px;\n}\n\n.demo-table-expand {\n  font-size: 0;\n}\n\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n\n.mainAdd .el-input .el-input__inner {\n  width: 30%;\n}\n\n.mainAdd {\n  width: 40%;\n  height: auto;\n  margin-top: 20px;\n}\n\n.mainAdd .el-input {\n  width: 80%;\n  margin-right: 20px;\n}\n\n.mainAdd .upupup {\n  margin-right: 90px;\n}\n\n#theBaseMainBox {\n  display: flex;\n  /*background-color: gray;*/\n  height: 600px;\n  flex-direction: column;\n  width: 1500px;\n  margin: 80px;\n\n}\n\n#theBaseHeader {\n  /*background-color: aliceblue;*/\n  height: 15%;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  /*align-items: center;*/\n}\n\n#theBaseMain {\n  /*background-color: lightgreen;*/\n  height: 80%;\n\n  width: 100%;\n\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./increSector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./increSector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./increSector.vue?vue&type=template&id=4850b8d1&scoped=true&\"\nimport script from \"./increSector.vue?vue&type=script&lang=js&\"\nexport * from \"./increSector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./increSector.vue?vue&type=style&index=0&id=4850b8d1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4850b8d1\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableSector.vue?vue&type=style&index=0&id=7bd39cc2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableSector.vue?vue&type=style&index=0&id=7bd39cc2&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./increSector.vue?vue&type=style&index=0&id=4850b8d1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./increSector.vue?vue&type=style&index=0&id=4850b8d1&scoped=true&lang=css&\"","import axios from 'axios'\n\n// axios.interceptors.request.use(config => {\n//   console.log(config)\n//   // 必须返回请求，否则后端无法获得\n//   return config\n// }, err => {\n//   console.log(err)\n// })\n\nexport function request(config) {\n    return new Promise(((resolve, reject) => {\n\n        const instance = axios.create({\n            timeout: 3000,\n        });\n\n        instance(config).then(res => {\n            resolve(res);\n        }).catch(err => {\n            reject(err);\n        })\n    }))\n}\n","import ca from \"element-ui/src/locale/lang/ca\";\nimport axios from \"axios\";\n\nexport function my_request(config) {\n\n  return new Promise(((resolve, reject) => {\n\n    const instance = axios.create({\n      timeout: 45000,\n      // headers: {'X-Custom-Header': 'foobar'}\n    });\n\n    instance(config).then(res => {\n      console.log('成功')\n      resolve(res);\n    }).catch(err => {\n      console.log('失败')\n      reject(err);\n    })\n  }))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mainAdd\",staticStyle:{\"align-items\":\"flex-start\",\"width\":\"37.5%\"}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":_vm.select==='库区'?'库区编号':'库区编号+货架编号'},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"searchInput\"}},[_c('el-select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}},[_c('el-option',{attrs:{\"label\":\"库区\",\"value\":\"库区\"}}),_c('el-option',{attrs:{\"label\":\"货架\",\"value\":\"编号\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n  <div class=\"mainAdd\" style=\"align-items: flex-start;width: 37.5%\">\n    <el-input :placeholder=\"select==='库区'?'库区编号':'库区编号+货架编号'\" v-model.trim=\"searchInput\" class=\"input-with-select\">\n      <el-select v-model=\"select\" slot=\"prepend\" style=\"width: 80px\" placeholder=\"请选择\">\n        <el-option label=\"库区\" value=\"库区\"></el-option>\n        <el-option label=\"货架\" value=\"编号\"></el-option>\n      </el-select>\n    </el-input>\n    <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search\">搜索</el-button>\n  </div>\n  <router-view></router-view>\n</div>\n</template>\n\n<script>\nimport {my_request} from \"@/network/requests/workshop_request\";\nimport tableSector from \"@/components/storehouse/tableSector\";\nexport default {\n  name: \"shelfManage\",\n\n  data() {\n    return {\n      //  search\n      select: '库区',\n      showSearchSectorInfo: false,\n      showSearchShelfInfo: false,\n      searchInput: '',\n\n    }\n  },\n  methods: {\n    //  search=============\n    // search(){\n    //   if (this.searchInput.indexOf(' ')===-1){\n    //     console.log('库区')\n    //   }else {\n    //     console.log('货架')\n    //   }\n    //   let str = this.searchInput.split('+')\n    //   console.log(str,'str')\n    // }\n    search() {\n      // if(this.select==='库区'){\n      console.log(this.searchInput)\n      this.$router.push({\n        path: '/storehouse/storageMain/ShelfInfo',\n        query: {\n          sectorId: this.searchInput\n        }\n      })\n\n\n      //   }else {\n      //     console.log('货架')\n      //\n      //     if (this.searchInput.indexOf('+')!==-1 && this.searchInput.split('+').length===2&&this.searchInput.split('+')[0]!==''&&this.searchInput.split('+')[1]!==''){\n      //       let info = this.searchInput.split('+')\n      //       console.log(info.length,'kenegsads')\n      //         this.$router.push({\n      //           path: '/storehouse/storageMain/ShelfInfo',\n      //           query: {\n      //             sectorId: info[0],\n      //             shelfId: info[1]\n      //           }\n      //         })\n      //     }else {\n      //      this.$message({\n      //        type:'info',\n      //        message:\"请输入'库区编号+货架编号'\"\n      //      })\n      //     }\n      //\n      //   }\n      //\n      //\n      //   if (this.searchInput.indexOf('+')!==-1){\n      //     console.log(this.searchInput)\n      //     let info = this.searchInput.split('+')\n      //     console.log(info.length,'kenegsads')\n      //     if(info[0]===''||info[1]===''||info.length>2){\n      //       console.log('err')\n      //     }else {\n      //       this.$router.push({\n      //         path: '/storehouse/storageMain/ShelfInfo',\n      //         query: {\n      //           sectorId: info[0],\n      //           shelfId: info[1]\n      //         }\n      //       })\n      //     }\n      //   }else {\n      //     console.log(this.searchInput)\n      //     this.$router.push({\n      //       path: '/storehouse/storageMain/SectorInfo',\n      //       query: {\n      //         sectorId: this.searchInput\n      //       }\n      //     })\n      //\n      //   }\n      // },\n\n      //table delete\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-select .el-input {\n  width: 230px;\n}\n\n.demo-table-expand {\n  font-size: 0;\n}\n\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n\n.mainAdd .el-input .el-input__inner {\n  width: 30%;\n}\n\n.mainAdd {\n  width: 40%;\n  height: auto;\n  margin-top: 20px;\n}\n\n.mainAdd .el-input {\n  width: 80%;\n  margin-right: 20px;\n}\n\n.mainAdd .upupup {\n  margin-right: 90px;\n}\n\n#theBaseMainBox {\n  display: flex;\n  /*background-color: gray;*/\n  height: 600px;\n  flex-direction: column;\n  width: 1500px;\n  margin: 80px;\n\n}\n\n#theBaseHeader {\n  /*background-color: aliceblue;*/\n  height: 15%;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  /*align-items: center;*/\n}\n\n#theBaseMain {\n  /*background-color: lightgreen;*/\n  height: 80%;\n\n  width: 100%;\n\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shelfManage.vue?vue&type=template&id=2a6f54e3&scoped=true&\"\nimport script from \"./shelfManage.vue?vue&type=script&lang=js&\"\nexport * from \"./shelfManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shelfManage.vue?vue&type=style&index=0&id=2a6f54e3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a6f54e3\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfManage.vue?vue&type=style&index=0&id=2a6f54e3&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfManage.vue?vue&type=style&index=0&id=2a6f54e3&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"80%\",\"height\":\"80%\",\"margin\":\"10px auto 0\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"40px\",\"margin-bottom\":\"10px\",\"display\":\"flex\",\"justify-content\":\"flex-start\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"auto\",\"display\":\"flex\",\"justify-content\":\"start\"}},[_c('el-form',{ref:\"input\",staticClass:\"demo-dynamic\",attrs:{\"model\":_vm.input,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"input\",\"label\":\"库区编号\",\"rules\":[\n                        // { required: true, message: '请输入库区编号', trigger: 'blur' },\n                      ]}},[_c('el-input',{model:{value:(_vm.input.input),callback:function ($$v) {_vm.$set(_vm.input, \"input\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"input.input\"}})],1)],1),_c('el-button',{on:{\"click\":function($event){return _vm.submitForm('input')}}},[_vm._v(\"搜索\")])],1)]),_c('div',{staticStyle:{\"width\":\"auto\",\"height\":\"auto\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"库区编号\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"created_time\"}}),_c('el-table-column',{attrs:{\"label\":\"创建人\",\"prop\":\"created_by\"}}),_c('el-table-column',{attrs:{\"label\":\"货架数量\",\"prop\":\"shelf_Num\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleSearch(scope.$index, scope.row)}}},[_vm._v(\"查看 \")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除 \")])]}}])})],1),_c('div',{staticClass:\"block\",staticStyle:{\"padding\":\"10px\",\"margin-top\":\"10px\"}},[_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"total\":_vm.total,\"background\":\"\",\"layout\":\"total,prev, pager, next, jumper\",\"page-size\":_vm.page.pages},on:{\"prev-click\":_vm.preclick,\"next-click\":_vm.nextclick,\"current-change\":_vm.curChange}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\n\n\n  <div style=\"width: 80%;height:80%;margin: 10px auto 0;\">\n\n    <div style=\"width: 100%;height: 40px;margin-bottom: 10px;display: flex;justify-content: flex-start\">\n      <div style=\"width: 100%;height: auto;display: flex;justify-content: start\">\n<!--        ------------------->\n        <el-form :model=\"input\" ref=\"input\" label-width=\"100px\" class=\"demo-dynamic\">\n          <el-form-item\n              prop=\"input\"\n              label=\"库区编号\"\n              :rules=\"[\n                        // { required: true, message: '请输入库区编号', trigger: 'blur' },\n                      ]\">\n            <el-input v-model.trim=\"input.input\"></el-input>\n          </el-form-item>\n\n        </el-form>\n        <el-button  @click=\"submitForm('input')\">搜索</el-button>\n        <!--        ------------------->\n      </div>\n    </div>\n    <div  style=\"width: auto;height: auto\">\n      <el-table\n          :data=\"tableData\"\n          v-loading=\"loading\"\n          style=\"width: 100%\">\n\n        <el-table-column\n            label=\"库区编号\"\n            prop=\"id\">\n        </el-table-column>\n        <el-table-column\n            label=\"创建时间\"\n            prop=\"created_time\">\n        </el-table-column>\n        <el-table-column\n            label=\"创建人\"\n            prop=\"created_by\">\n        </el-table-column>\n        <el-table-column\n            label=\"货架数量\"\n            prop=\"shelf_Num\">\n        </el-table-column>\n\n\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n                size=\"mini\"\n                type=\"success\"\n                @click=\"handleSearch(scope.$index, scope.row)\">查看\n            </el-button>\n            <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDelete(scope.$index, scope.row)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"block\" style=\"padding: 10px;margin-top: 10px\">\n        <el-pagination\n            @prev-click=\"preclick\"\n            @next-click=\"nextclick\"\n            @current-change=\"curChange\"\n            :hide-on-single-page=true\n            :total=\"total\"\n            background\n            layout=\"total,prev, pager, next, jumper\"\n            :page-size=\"page.pages\">\n        </el-pagination>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {my_request} from \"@/network/requests/workshop_request\";\nimport {request} from \"@/network/request\";\n\nexport default {\n  name: \"tableSector\",\n  data(){\n    return {\n      loading:false,\n      page:{\n        pages: 10,\n        current: 1,\n      },\n      total:1,\n      show:false,\n      // input:'',\n      incrementShelfFlag: false,\n      addShelfInfo:{\n        shelf_id:''\n      },\n      input: {\n        input:''\n      },\n\n\n      tableData: [\n        {\n          id: '12987121',\n          shelf_Num: '129',\n          created_time: '2018-29-29',\n          created_by: '高某人',\n        },\n      ],\n    }\n  },\n  created() {\n    console.log('sector----',this.$route.query)\n    this.getData()\n  },\n  methods:{\n    preclick(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n    },\n    nextclick(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n\n    },\n    curChange(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n    },\n    getData(){\n      let req= {\n        current: this.page.current,  //页数 从1开始\n        pages: this.page.pages  // 每页多少数据\n      }\n      this.loading = true\n      my_request({\n        url: 'storage/storageItem',\n        methods:'get',\n        params: req\n      }).then(res=>{\n        console.log('tableSector的getData：res',res)\n        if (res.data.success===true){\n          console.log('???')\n          this.tableData = res.data.result.records;\n          this.total = res.data.result.total\n\n        }else {\n          this.$message.error('查询失败')\n        }\n      }).catch(err=>{\n        console.log('store查询所有信息 getdata：err',err)\n        this.$message.error('服务器异常')\n      })\n\n      this.loading = false\n\n    },\n    // table chakan\n    handleSearch(index, row) {\n      this.$router.push({\n        path: '/storehouse/storageMain/ShelfInfo',\n        query:{\n          storage_id: row.id,\n        }\n      })\n    },\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n          .then(_ => {\n            done();\n          })\n          .catch(_ => {\n          });\n    },\n    handleDelete(index, row) {\n      console.log(index, row);\n      let req = {\n        storage_id:row.id,\n        user:this.$store.getters.userinfo.id\n        // user:1\n      }\n      this.loading = true\n      console.log(req,'req')\n      //如果shelf内的物料军为空，则可以删除\n      my_request({\n        url: 'storage/delete',\n        methods: 'get',\n        params: req\n      }).then(res=>{\n        console.log('删除的res',res)\n        if (res.data.success===true){\n          this.$message({\n            type:'success',\n            message:\"删除成功\"\n          })\n        }else {\n          this.$message.error('删除失败')\n        }\n\n        //删除所有库区内所有货架，删除库区\n        //删除成功？ 权限不足？ 库区内仍有物料\n        this.getData()\n      }).catch(err=>{\n        console.log('删除库区的err',err)\n        this.$message.error('服务器异常')\n      })\n      this.loading = false\n\n    },\n\n    //-----\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.input.input==='')\n          {\n            this.getData()\n          }else {\n            let req = {\n              storage_id: this.input.input\n            }\n            this.loading = true\n\n            console.log('查询某条库区的req：',req)\n\n            my_request({\n              url: 'storage/search',\n              method: 'get',\n              params: req\n\n            }).then(res => {\n              console.log('查询某条库区的res：',res)\n              if (res.data.success === true){\n                let o = []\n                o.push(res.data.result)\n                this.tableData = o\n                this.$message({\n                  type:'success',\n                  message:'查询成功'\n                })\n              }else {\n                this.$message.error('查询失败')\n              }\n              this.show = true\n            }).catch(err => {\n              console.log('查询某条库区的err',err)\n                this.$message.error('服务器异常')\n            })\n            //如果搜索成功\n            this.show = true\n            this.loading = false\n\n          }\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n/deep/  td {\n  padding: 6px 20px !important;\n  /*border: 1px solid blue;*/\n\n}\n\n.el-select .el-input {\n  width: 230px;\n}\n\n.demo-table-expand {\n  font-size: 0;\n}\n\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n\n.mainAdd .el-input .el-input__inner {\n  width: 30%;\n}\n\n.mainAdd {\n  width: 40%;\n  height: auto;\n  margin-top: 20px;\n}\n\n.mainAdd .el-input {\n  width: 80%;\n  margin-right: 20px;\n}\n\n.mainAdd .upupup {\n  margin-right: 90px;\n}\n\n#theBaseMainBox {\n  display: flex;\n  /*background-color: gray;*/\n  height: 600px;\n  flex-direction: column;\n  width: 1500px;\n  margin: 80px;\n\n}\n\n#theBaseHeader {\n  /*background-color: aliceblue;*/\n  height: 15%;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  /*align-items: center;*/\n}\n\n#theBaseMain {\n  /*background-color: lightgreen;*/\n  height: 80%;\n\n  width: 100%;\n\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableSector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableSector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tableSector.vue?vue&type=template&id=7bd39cc2&scoped=true&\"\nimport script from \"./tableSector.vue?vue&type=script&lang=js&\"\nexport * from \"./tableSector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tableSector.vue?vue&type=style&index=0&id=7bd39cc2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bd39cc2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}