{"version":3,"sources":["webpack:///./src/components/storehouse/equAndMat/equipmentInfoDetail.vue?1bdc","webpack:///./src/network/requests/workshop_request.js","webpack:///./src/components/storehouse/equAndMat/equipmentInfoDetail.vue?e181","webpack:///src/components/storehouse/equAndMat/equipmentInfoDetail.vue","webpack:///./src/components/storehouse/equAndMat/equipmentInfoDetail.vue?7646","webpack:///./src/components/storehouse/equAndMat/equipmentInfoDetail.vue"],"names":["my_request","config","Promise","resolve","reject","instance","axios","create","timeout","then","res","console","log","catch","err","render","_vm","this","_h","$createElement","_c","_self","staticStyle","_m","_v","_s","$route","query","info","equipment_id","name","on","increment","attrs","tableData","staticClass","total","page","pages","preclick","nextclick","curChange","jinhuoFlag","handleClose","$event","ref","jinhuoInfo","required","message","model","value","callback","$$v","$set","trim","expression","jinhuo","resetForm","updateFlag","updateInfo","_n","incrementNum","decrementNum","staticRenderFns","data","updateMax","storage_id","shelf_id","location","id","quantity","type","user","current","created","getData","methods","loading","setTimeout","goods_id","url","params","method","success","$refs","formName","validate","valid","resetFields","update","req","$confirm","handleSearch","row","component"],"mappings":"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","file":"static/js/chunk-077f42fd.8400ce64.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipmentInfoDetail.vue?vue&type=style&index=0&id=22d59887&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipmentInfoDetail.vue?vue&type=style&index=0&id=22d59887&scoped=true&lang=css&\"","import ca from \"element-ui/src/locale/lang/ca\";\nimport axios from \"axios\";\n\nexport function my_request(config) {\n\n  return new Promise(((resolve, reject) => {\n\n    const instance = axios.create({\n      timeout: 45000,\n      // headers: {'X-Custom-Header': 'foobar'}\n    });\n\n    instance(config).then(res => {\n      console.log('成功')\n      resolve(res);\n    }).catch(err => {\n      console.log('失败')\n      reject(err);\n    })\n  }))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"80%\",\"height\":\"80%\",\"margin\":\"10px auto 0\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"margin-bottom\":\"20px\",\"justify-content\":\"flex-start\",\"flex-wrap\":\"wrap\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"auto\",\"margin-bottom\":\"10px\",\"display\":\"flex\",\"justify-content\":\"flex-start\",\"flex-wrap\":\"wrap\"}},[_vm._m(0),_c('div',{staticStyle:{\"margin-left\":\"50px\",\"height\":\"80px\",\"display\":\"flex\",\"justify-content\":\"flex-start\"}},[_c('div',{staticStyle:{\"margin-right\":\"80px\",\"height\":\"80px\",\"line-height\":\"80px\"}},[_vm._v(\"设备编号: \"),_c('span',{staticStyle:{\"font-size\":\"small\",\"line-height\":\"80px\"}},[_vm._v(_vm._s(_vm.$route.query.info.equipment_id))])]),_c('div',[_vm._v(\"设备名称:\"),_c('span',{staticStyle:{\"font-size\":\"small\",\"line-height\":\"80px\"}},[_vm._v(_vm._s(_vm.$route.query.info.name))])])]),_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"60%\",\"flex-direction\":\"row-reverse\"}},[_c('div',{staticStyle:{\"height\":\"40px\",\"line-height\":\"40px\",\"margin-top\":\"40px\",\"display\":\"flex\"}},[_c('el-button',{on:{\"click\":_vm.increment}},[_vm._v(\"增加\")])],1)])])]),_c('div',{staticStyle:{\"width\":\"100%\"}},[[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"storage_id\",\"label\":\"库区编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"shelf_id\",\"label\":\"货架编号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"库位信息\"}}),_c('el-table-column',{attrs:{\"prop\":\"quantity\",\"label\":\"库存数量\"}})],1),_c('div',{staticClass:\"block\",staticStyle:{\"padding\":\"10px\",\"margin-top\":\"10px\"}},[_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"total\":_vm.total,\"background\":\"\",\"layout\":\"total,prev, pager, next, jumper\",\"page-size\":_vm.page.pages},on:{\"prev-click\":_vm.preclick,\"next-click\":_vm.nextclick,\"current-change\":_vm.curChange}})],1)]],2),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.jinhuoFlag,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.jinhuoFlag=$event}}},[_c('el-form',{ref:\"jinhuoInfo\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.jinhuoInfo,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"库区编号\",\"prop\":\"storage_id\",\"rules\":[\n                    { required: true, message: '库区编号不可为空'} ]}},[_c('el-input',{attrs:{\"type\":\"age\",\"autocomplete\":\"off\"},model:{value:(_vm.jinhuoInfo.storage_id),callback:function ($$v) {_vm.$set(_vm.jinhuoInfo, \"storage_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"jinhuoInfo.storage_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"货架编号\",\"prop\":\"shelf_id\",\"rules\":[\n                    { required: true, message: '货架编号不可为空'} ]}},[_c('el-input',{attrs:{\"type\":\"age\",\"autocomplete\":\"off\"},model:{value:(_vm.jinhuoInfo.shelf_id),callback:function ($$v) {_vm.$set(_vm.jinhuoInfo, \"shelf_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"jinhuoInfo.shelf_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"库位信息\",\"prop\":\"location\",\"rules\":[\n                    { required: true, message: '库区信息不可为空'} ]}},[_c('el-input',{attrs:{\"type\":\"age\",\"autocomplete\":\"off\"},model:{value:(_vm.jinhuoInfo.location),callback:function ($$v) {_vm.$set(_vm.jinhuoInfo, \"location\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"jinhuoInfo.location\"}})],1),_c('el-form-item',{attrs:{\"label\":\"进库数量\",\"prop\":\"quantity\",\"rules\":[\n                    { required: true, message: '进货数量不可为空'} ]}},[_c('el-input',{attrs:{\"type\":\"age\",\"autocomplete\":\"off\"},model:{value:(_vm.jinhuoInfo.quantity),callback:function ($$v) {_vm.$set(_vm.jinhuoInfo, \"quantity\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"jinhuoInfo.quantity\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.jinhuo('jinhuoInfo')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('jinhuoInfo')}}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.updateFlag,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.updateFlag=$event}}},[_c('el-form',{ref:\"updateInfo\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.updateInfo,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"修改数量\",\"prop\":\"quantity\",\"rules\":[\n                    { required: true, message: '数量不可为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.updateInfo.quantity),callback:function ($$v) {_vm.$set(_vm.updateInfo, \"quantity\", _vm._n($$v))},expression:\"updateInfo.quantity\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.incrementNum('updateInfo')}}},[_vm._v(\"增加\")]),_c('el-button',{on:{\"click\":function($event){return _vm.decrementNum('updateInfo')}}},[_vm._v(\"减少\")])],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"10%\",\"height\":\"80px\",\"margin\":\"0\",\"padding\":\"0\",\"display\":\"flex\",\"justify-content\":\"flex-start\"}},[_c('h2',[_vm._v(\"设备信息:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div style=\" ;width: 80%;height:80%;margin: 10px auto 0;\">\n      <div style=\"width: 100%;display: flex;margin-bottom: 20px;justify-content: flex-start;flex-wrap: wrap\">\n    <div style=\"width: 100%;height: auto; ;margin-bottom: 10px;display: flex;justify-content: flex-start;flex-wrap: wrap\">\n      <div style=\"width: 10%;height:80px;margin: 0;padding:0;display: flex;justify-content: flex-start\"><h2>设备信息:</h2></div>\n      <div style=\"margin-left:50px;height: 80px;display: flex;justify-content: flex-start;\">\n        <div style=\"margin-right: 80px;height: 80px;line-height: 80px\">设备编号: <span style=\"font-size: small;line-height: 80px\">{{$route.query.info.equipment_id}}</span></div>\n        <div>设备名称:<span style=\"font-size: small;line-height: 80px\">{{$route.query.info.name}}</span></div>\n      </div>\n      <div style=\"display: flex;width: 60%;flex-direction: row-reverse\">\n        <div style=\"height: 40px;line-height: 40px;margin-top: 40px;display: flex;\">\n          <el-button @click=\"increment\">增加</el-button>\n        </div>\n      </div>\n    </div>\n  </div>\n      <div style=\"width: 100%\">\n    <template>\n      <el-table\n          :data=\"tableData\"\n          style=\"width: 100%\">\n        <el-table-column\n            prop=\"storage_id\"\n            label=\"库区编号\">\n        </el-table-column>\n        <el-table-column\n            prop=\"shelf_id\"\n            label=\"货架编号\"\n            width=\"180\">\n        </el-table-column>\n        <el-table-column\n            prop=\"id\"\n            label=\"库位信息\">\n        </el-table-column>\n        <el-table-column\n            prop=\"quantity\"\n            label=\"库存数量\">\n        </el-table-column>\n      </el-table>\n      <div class=\"block\" style=\"padding: 10px;margin-top: 10px\">\n        <el-pagination\n            @prev-click=\"preclick\"\n            @next-click=\"nextclick\"\n            @current-change=\"curChange\"\n            :hide-on-single-page=true\n            :total=\"total\"\n            background\n            layout=\"total,prev, pager, next, jumper\"\n            :page-size=\"page.pages\">\n        </el-pagination>\n      </div>\n    </template>\n    </div>\n    <el-dialog\n        title=\"提示\"\n        :visible.sync=\"jinhuoFlag\"\n        width=\"30%\"\n        :before-close=\"handleClose\">\n\n      <el-form :model=\"jinhuoInfo\" ref=\"jinhuoInfo\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item\n            label=\"库区编号\"\n            prop=\"storage_id\"\n            :rules=\"[\n                      { required: true, message: '库区编号不可为空'},\n                    ]\">\n          <el-input type=\"age\" v-model.trim=\"jinhuoInfo.storage_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"货架编号\"\n            prop=\"shelf_id\"\n            :rules=\"[\n                      { required: true, message: '货架编号不可为空'},\n                    ]\">\n          <el-input type=\"age\" v-model.trim=\"jinhuoInfo.shelf_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"库位信息\"\n            prop=\"location\"\n            :rules=\"[\n                      { required: true, message: '库区信息不可为空'},\n                    ]\">\n          <el-input type=\"age\" v-model.trim=\"jinhuoInfo.location\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"进库数量\"\n            prop=\"quantity\"\n            :rules=\"[\n                      { required: true, message: '进货数量不可为空'},\n                    ]\">\n          <el-input type=\"age\" v-model.trim=\"jinhuoInfo.quantity\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"jinhuo('jinhuoInfo')\">提交</el-button>\n          <el-button @click=\"resetForm('jinhuoInfo')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n\n\n    </el-dialog>\n    <el-dialog\n        title=\"提示\"\n        :visible.sync=\"updateFlag\"\n        width=\"30%\"\n        :before-close=\"handleClose\">\n\n      <el-form :model=\"updateInfo\" ref=\"updateInfo\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item\n            label=\"修改数量\"\n            prop=\"quantity\"\n            :rules=\"[\n                      { required: true, message: '数量不可为空'},\n                    ]\">\n          <el-input  v-model.number=\"updateInfo.quantity\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"incrementNum('updateInfo')\">增加</el-button>\n          <el-button @click=\"decrementNum('updateInfo')\">减少</el-button>\n        </el-form-item>\n      </el-form>\n\n\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {my_request} from \"@/network/requests/workshop_request\";\n\nexport default {\n  name: \"equipmentInfoDetail\",\n  data(){\n    return {\n      updateFlag:false,\n      updateInfo: {\n          storage_id:'',\n          shelf_id:'',\n          location:'',\n          id:'',\n          quantity:'',\n          update:'',\n          type:'',\n          user:'',\n        },\n      updateMax:0,\n      jinhuoFlag:false,\n      jinhuoInfo:{\n        storage_id:'',\n        shelf_id:'',\n        location:'',\n        id:'',\n        quantity:'',\n        type:'',\n        user:'',\n      },\n      tableData:[\n\n      ],\n      page:{\n        pages: 15,\n        current: 1,\n      },\n      total:0,\n    }\n  },\n  created() {\n    this.getData()\n  },\n  methods:{\n    preclick(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n    },\n    nextclick(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n\n    },\n    curChange(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n    },\n    getData(){\n\n      let req = {\n        type: 'equipment',\n        current: this.page.current,  //页数 从1开始\n        pages: this.page.pages,\n        goods_id: this.$route.query.info.equipment_id\n      }\n      console.log('equipment的getdata,req：',req)\n      my_request({\n        url:'goods/locationItem',\n        params:req,\n        method:'get'\n      }).then(res=>{\n\n        console.log('equipment的getdata：res',res)\n        if (res.data.success===true){\n          this.tableData = res.data.result.records\n          this.total = res.data.total\n        }else {\n          this.$message.error('库区无此类物品存放')\n        }\n      }).catch(err=>{\n\n      })\n    },\n    increment(){\n      this.jinhuoFlag = true\n    },\n    jinhuo(formName){\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n         let req = {\n           user : this.$store.getters.userinfo.id,\n           // user : 1,\n           type : 'equipment',\n           id : this.$route.query.info.equipment_id,\n           storage_id:this.jinhuoInfo.storage_id,\n           shelf_id:this.jinhuoInfo.shelf_id,\n           location:this.jinhuoInfo.location,\n           quantity:this.jinhuoInfo.quantity\n         }\n          console.log('你也小时啊',req)\n          my_request({\n            url:'goods/addGoods',\n            params:req,\n            method:'get'\n          }).then(res=>{\n            console.log('金库信息的res',res)\n            if (res.data.success===true){\n              this.$message({\n                type:'success',\n                message:'申请成功'\n              })\n            }else {\n              this.$message.error('申请失败')\n            }\n          }).catch(err=>{\n            console.log('金库信息的err',err)\n            this.$message.error('服务器异常')\n          })\n          this.jinhuoFlag=false\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n      this.$refs[formName].resetFields();\n    },\n    incrementNum(formName){\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let req = {\n            storage_id:this.updateInfo.storage_id,\n            shelf_id:this.updateInfo.shelf_id,\n            location:this.updateInfo.location,\n            id:this.updateInfo.id,\n            quantity:this.updateInfo.quantity,\n            update:'increment',\n            type:'equipment',\n            user:this.$store.getters.userinfo.id\n            // user:1\n          }\n\n          my_request({\n            url:\"\",\n            params: req,\n            method:'get'\n          }).then(res=>{\n\n            if (res.data.success===true){\n              this.$message({\n                type:'success',\n                message:'申请成功'\n              })\n            }else {\n              this.$message.error('申请失败')\n            }\n          }).catch(err=>{\n            this.$message.error('服务器异常')\n          })\n\n\n\n\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n\n      this.updateFlag = false\n      this.$refs[formName].resetFields();\n    },\n    decrementNum(formName){\n      this.$refs[formName].validate((valid) => {\n      if (valid) {\n        let req = {\n          storage_id:this.updateInfo.storage_id,\n          shelf_id:this.updateInfo.shelf_id,\n          location:this.updateInfo.location,\n          id:this.updateInfo.id,\n          quantity:this.updateInfo.quantity,\n          update:'decrement',\n          type:'equipment',\n          user:this.$store.getters.userinfo.id\n          // user:1\n        }\n\n        my_request({\n          url:\"\",\n          params: req,\n          method:'get'\n        }).then(res=>{\n\n          if (res.data.success===true){\n            this.$message({\n              type:'success',\n              message:'申请成功'\n            })\n          }else {\n            this.$message.error('申请失败')\n          }\n        }).catch(err=>{\n          this.$message.error('服务器异常')\n        })\n\n\n      } else {\n        console.log('error submit!!');\n        return false;\n      }\n    });\n\n      this.updateFlag = false\n      this.$refs[formName].resetFields();\n    },\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n          .then(_ => {\n            done();\n          })\n          .catch(_ => {});\n    },\n    handleSearch(index,row){\n      this.updateFlag = true\n      this.updateInfo.storage_id = row.storage_id\n      this.updateInfo.shelf_id = row.shelf_id\n      this.updateInfo.location = row.location\n      this.updateInfo.id = this.$route.query.info.equipment_id\n      this.updateInfo.type = 'equipment'\n\n      this.updateMax = row.quantity\n      console.log('ths:',this.updateInfo)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/deep/  td {\n  padding:3px !important;\n  /*border: 1px solid blue;*/\n  height: 6px;\n  overflow: hidden;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipmentInfoDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipmentInfoDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./equipmentInfoDetail.vue?vue&type=template&id=22d59887&scoped=true&\"\nimport script from \"./equipmentInfoDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./equipmentInfoDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./equipmentInfoDetail.vue?vue&type=style&index=0&id=22d59887&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22d59887\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}