{"version":3,"sources":["webpack:///./src/components/storehouse/shelfInfo.vue?3237","webpack:///./src/network/request.js","webpack:///./src/network/requests/workshop_request.js","webpack:///./src/components/storehouse/shelfInfo.vue?1066","webpack:///src/components/storehouse/shelfInfo.vue","webpack:///./src/components/storehouse/shelfInfo.vue?df7e","webpack:///./src/components/storehouse/shelfInfo.vue"],"names":["request","config","Promise","resolve","reject","instance","axios","create","timeout","then","res","catch","err","my_request","console","log","render","_vm","this","_h","$createElement","_c","_self","staticStyle","on","$event","dialogVisible1","_v","attrs","tableData","scopedSlots","_u","key","fn","scope","transfer","$index","row","staticClass","total","page","pages","preclick","nextclick","curChange","dialogVisible","handleClose","ref","info","required","message","model","value","callback","$$v","$set","trim","expression","submitForm","resetForm","submitForm1","staticRenderFns","name","data","current","item","index","storage_id","shelf_id","location","created","getData","methods","loading","setTimeout","$route","query","id","url","params","method","success","$refs","formName","validate","valid","newStorage_id","newShelf_id","type","newLocation","$confirm","resetFields","component"],"mappings":"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","file":"static/js/chunk-7c9347c8.b7d3b4da.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfInfo.vue?vue&type=style&index=0&id=f79c4eb4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfInfo.vue?vue&type=style&index=0&id=f79c4eb4&scoped=true&lang=css&\"","import axios from 'axios'\n\n// axios.interceptors.request.use(config => {\n//   console.log(config)\n//   // 必须返回请求，否则后端无法获得\n//   return config\n// }, err => {\n//   console.log(err)\n// })\n\nexport function request(config) {\n    return new Promise(((resolve, reject) => {\n\n        const instance = axios.create({\n            timeout: 3000,\n        });\n\n        instance(config).then(res => {\n            resolve(res);\n        }).catch(err => {\n            reject(err);\n        })\n    }))\n}\n","import ca from \"element-ui/src/locale/lang/ca\";\nimport axios from \"axios\";\n\nexport function my_request(config) {\n\n  return new Promise(((resolve, reject) => {\n\n    const instance = axios.create({\n      timeout: 45000,\n      // headers: {'X-Custom-Header': 'foobar'}\n    });\n\n    instance(config).then(res => {\n      console.log('成功')\n      resolve(res);\n    }).catch(err => {\n      console.log('失败')\n      reject(err);\n    })\n  }))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"80%\",\"height\":\"80%\",\"margin\":\"40px auto 0\"}},[_c('div',{staticStyle:{\"width\":\"90%\",\"height\":\"40px\",\"display\":\"flex\",\"justify-content\":\"flex-end\"}},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible1 = true}}},[_vm._v(\"转移所有物品\")])],1),[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"库位信息\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_id\",\"label\":\"物品编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"goods_name\",\"label\":\"物品名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"types\",\"label\":\"物品类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"quantity\",\"label\":\"数量\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.transfer(scope.$index, scope.row)}}},[_vm._v(\"转移 \")])]}}])})],1)],_c('div',{staticClass:\"block\",staticStyle:{\"padding\":\"10px\"}},[_c('el-pagination',{attrs:{\"hide-on-single-page\":true,\"total\":_vm.total,\"background\":\"\",\"layout\":\"total,prev, pager, next, jumper\",\"page-size\":_vm.page.pages},on:{\"prev-click\":_vm.preclick,\"next-click\":_vm.nextclick,\"current-change\":_vm.curChange}})],1),_c('el-dialog',{attrs:{\"title\":\"转移后位置信息\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"info\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.info,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"库区编号\",\"prop\":\"storage_id\",\"rules\":[\n                              { required: true, message: '库区编号不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.info.storage_id),callback:function ($$v) {_vm.$set(_vm.info, \"storage_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"info.storage_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"货架编号\",\"prop\":\"shelf_id\",\"rules\":[\n                              { required: true, message: '货架编号不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.info.shelf_id),callback:function ($$v) {_vm.$set(_vm.info, \"shelf_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"info.shelf_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"库位信息\",\"prop\":\"location\",\"rules\":[\n                              { required: true, message: '库位信息不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.info.location),callback:function ($$v) {_vm.$set(_vm.info, \"location\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"info.location\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('info')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('info')}}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"转移后位置信息\",\"visible\":_vm.dialogVisible1,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible1=$event}}},[_c('el-form',{ref:\"info\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.info,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"库区编号\",\"prop\":\"storage_id\",\"rules\":[\n                              { required: true, message: '库区编号不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.info.storage_id),callback:function ($$v) {_vm.$set(_vm.info, \"storage_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"info.storage_id\"}})],1),_c('el-form-item',{attrs:{\"label\":\"货架编号\",\"prop\":\"shelf_id\",\"rules\":[\n                              { required: true, message: '货架编号不能为空'} ]}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.info.shelf_id),callback:function ($$v) {_vm.$set(_vm.info, \"shelf_id\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"info.shelf_id\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm1('info')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('info')}}},[_vm._v(\"重置\")])],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div style=\"width: 80%;height:80%;margin: 40px auto 0;\">\n\n  <div style=\"width: 90%;height: 40px;display: flex;justify-content: flex-end\">\n    <el-button @click=\"dialogVisible1 = true\">转移所有物品</el-button>\n  </div>\n   <template>\n    <el-table\n        :data=\"tableData\"\n        style=\"width: 100%\">\n      <el-table-column\n          prop=\"id\"\n          label=\"库位信息\">\n      </el-table-column>\n      <el-table-column\n          prop=\"goods_id\"\n          label=\"物品编号\">\n      </el-table-column>\n      <el-table-column\n          prop=\"goods_name\"\n          label=\"物品名称\">\n      </el-table-column>\n      <el-table-column\n          prop=\"types\"\n          label=\"物品类型\">\n      </el-table-column>\n\n      <el-table-column\n          prop=\"quantity\"\n          label=\"数量\">\n      </el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n              size=\"mini\"\n              type=\"success\"\n              @click=\"transfer(scope.$index, scope.row)\">转移\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </template>\n    <div class=\"block\" style=\"padding: 10px\">\n      <el-pagination\n          @prev-click=\"preclick\"\n          @next-click=\"nextclick\"\n          @current-change=\"curChange\"\n          :hide-on-single-page=true\n          :total=\"total\"\n          background\n          layout=\"total,prev, pager, next, jumper\"\n          :page-size=\"page.pages\">\n      </el-pagination>\n    </div>\n    <el-dialog\n        title=\"转移后位置信息\"\n        :visible.sync=\"dialogVisible\"\n        width=\"30%\"\n        :before-close=\"handleClose\">\n\n      <el-form :model=\"info\" ref=\"info\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item\n            label=\"库区编号\"\n            prop=\"storage_id\"\n            :rules=\"[\n                              { required: true, message: '库区编号不能为空'},\n                            ]\">\n          <el-input v-model.trim=\"info.storage_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"货架编号\"\n            prop=\"shelf_id\"\n            :rules=\"[\n                              { required: true, message: '货架编号不能为空'},\n                            ]\">\n          <el-input v-model.trim.trim=\"info.shelf_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"库位信息\"\n            prop=\"location\"\n            :rules=\"[\n                              { required: true, message: '库位信息不能为空'},\n                            ]\">\n          <el-input v-model.trim=\"info.location\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('info')\">提交</el-button>\n          <el-button @click=\"resetForm('info')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n\n    </el-dialog>\n    <el-dialog\n        title=\"转移后位置信息\"\n        :visible.sync=\"dialogVisible1\"\n        width=\"30%\"\n        :before-close=\"handleClose\">\n\n      <el-form :model=\"info\" ref=\"info\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item\n            label=\"库区编号\"\n            prop=\"storage_id\"\n            :rules=\"[\n                              { required: true, message: '库区编号不能为空'},\n                            ]\">\n          <el-input v-model.trim=\"info.storage_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item\n            label=\"货架编号\"\n            prop=\"shelf_id\"\n            :rules=\"[\n                              { required: true, message: '货架编号不能为空'},\n                            ]\">\n          <el-input v-model.trim=\"info.shelf_id\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm1('info')\">提交</el-button>\n          <el-button @click=\"resetForm('info')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n\n    </el-dialog>\n\n</div>\n</template>\n\n\n<script>\nimport {my_request} from \"@/network/requests/workshop_request\";\nimport {request} from \"@/network/request\";\nexport default {\n  name: \"shelfInfo\",\n  data(){\n    return {\n      page:{\n        pages: 10,\n        current: 1,\n      },\n      total:1,\n      item :{\n        index:'',\n        row:''\n      },\n      info:{\n        storage_id: '',\n        shelf_id:'',\n        location:'',\n      },\n      dialogVisible:false,\n      dialogVisible1:false,\n      tableData:[\n        {\n          id: '库位信息',\n          types: '物品',\n          goods_id:'si213',\n          quantity:'shu量'\n        },\n\n      ]\n    }\n  },\n  created() {\n    this.getData()\n  },\n  methods:{\n    preclick(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n    },\n    nextclick(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n\n    },\n    curChange(current){\n      this.page.current=current\n      this.loading = true\n      setTimeout(()=>{\n        this.getData()\n        this.loading=false\n      },1000)\n    },\n\n    getData(){\n      let req = {\n        storage_id: this.$route.query.storage_id,\n        current: this.page.current,  //页数 从1开始\n        pages: this.page.pages, // 每页多少数据\n        id:this.$route.query.id,\n      }\n      my_request({\n        url:'goods/search',\n        params:req,\n        method: 'get'\n      }).then(res=> {\n        console.log('.asdgetData的res,',res)\n        if (res.data.success===true){\n          this.tableData = res.data.result\n\n        }else (\n            this.$message.error('查询失败')\n        )\n\n        //\n        // 返回值\n        //  {\n        //    total:''数据总条数\n        //    tableDate:[\n        //     {\n        //        location: '库位信息',\n        //        item: '物品',\n        //        itemID:'物品编号'\n        //        quantity:'shu量'\n        //      },\n        //    ]\n      //   }\n      //   this.total = res.\n      //   this.tableData = res.\n      }).catch(err=>{\n        console.log('getData的err',err)\n        this.$message.error('服务器异常')\n      })\n    },\n\n    transfer(index, row) {\n       this.item = {\n         index:index,\n         row:row\n       }\n      console.log(this.item)\n       this.dialogVisible = true;\n    },\n    submitForm1(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n\n          let  req = {\n            storage_id:this.$route.query.storage_id,\n            shelf_id:this.$route.query.id,\n            newStorage_id: this.info.storage_id,\n            newShelf_id: this.info.shelf_id,\n          }\n          console.log('转移整个货架的req',req)\n\n          my_request({\n            url: 'shelf/move',\n            methods:'get',\n            params:req\n          }).then(res=>{\n            console.log('转移整个货架的res',res)\n\n            if (res.data.success===true){\n              this.$message({\n                type:'success',\n                message:'转移成功'\n              })\n            }else {\n              this.$message.error('转移失败')\n            }\n            this.dialogVisible = false\n            this.getData()\n\n            this.dialogVisible1 =false;\n            this.$refs[formName].resetFields();\n\n          }).catch(err=>{\n            console.log('转移整个货架的err',err)\n            this.$message.error('服务器异常')\n          })\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n        this.dialogVisible1 =false;\n      });\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n\n          let  req = {\n            storage_id:this.$route.query.storage_id,\n            shelf_id:this.$route.query.id,\n            location: this.item.row.id,\n            newStorage_id: this.info.storage_id,\n            newShelf_id: this.info.shelf_id,\n            newLocation: this.info.location\n          }\n          console.log('转移物品的req',req)\n          my_request({\n            url: 'goods/move',\n            methods:'get',\n            params:req\n          }).then(res=>{\n\n            console.log('转移物品的res',res)\n            this.dialogVisible = false\n            this.getData()\n            if (res.data.success===true){\n              this.$message({\n                type:'success',\n                message:'转移成功'\n              })\n            }else {\n              this.$message.error('转移失败')\n            }\n\n            this.dialogVisible =false;\n\n          }).catch(err=>{\n            console.log('转移物品的err',err)\n            this.$message.error('服务器异常')\n          })\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n        this.$refs[formName].resetFields();\n        this.dialogVisible =false;\n      });\n    },\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n          .then(_ => {\n            done();\n          })\n          .catch(_ => {});\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n}\n</script>\n\n<style scoped>\n/deep/  td {\n  padding: 6px 20px !important;\n  /*border: 1px solid blue;*/\n\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shelfInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shelfInfo.vue?vue&type=template&id=f79c4eb4&scoped=true&\"\nimport script from \"./shelfInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./shelfInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shelfInfo.vue?vue&type=style&index=0&id=f79c4eb4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f79c4eb4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}