(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36b1a840"],{"1bab":function(e,r,t){"use strict";t.d(r,"a",(function(){return c}));t("d3b7");var o=t("bc3a"),n=t.n(o);function c(e){return new Promise((function(r,t){var o=n.a.create({timeout:3e3});o(e).then((function(e){r(e)})).catch((function(e){t(e)}))}))}},"2ec0":function(e,r,t){},ab32:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"procedure-add-base"}},[t("el-form",{ref:"procedureForm",attrs:{model:e.procedure,"label-position":"right","label-width":"80px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name",rules:{required:!0,message:"请填写名称",trigger:"blur"}}},[t("el-input",{attrs:{placeholder:"请输入名称",maxlength:"32","show-word-limit":""},model:{value:e.procedure.name,callback:function(r){e.$set(e.procedure,"name",r)},expression:"procedure.name"}})],1),t("el-form-item",{attrs:{label:"cost",prop:"cost",rules:e.costRules}},[t("el-input-number",{staticStyle:{float:"left"},attrs:{placeholder:"请输入成本",precision:2,controls:!1},model:{value:e.procedure.cost,callback:function(r){e.$set(e.procedure,"cost",r)},expression:"procedure.cost"}})],1),t("el-form-item",{attrs:{label:"描述",prop:"comments"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入产品描述",maxlength:"45","show-word-limit":""},model:{value:e.procedure.comments,callback:function(r){e.$set(e.procedure,"comments",r)},expression:"procedure.comments"}})],1),t("el-form-item",[t("el-button",{on:{click:function(r){return e.resetForm("procedureForm")}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:e.commit}},[e._v("提交")])],1)],1)],1)},n=[],c=(t("b0c0"),t("1bab")),s={name:"Add",data:function(){var e=function(e,r,t){if(!r)return t(new Error("请填写成本"));r<=0?t(new Error("成本必须大于0")):t()};return{procedure:{},costRules:[{validator:e,trigger:"blur"}]}},methods:{resetForm:function(e){this.$refs[e].resetFields()},commit:function(){var e=this;this.$refs["procedureForm"].validate((function(r){if(!r)return!1;e.$confirm("是否提交？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["a"])({url:"/process/addProcedure",method:"post",data:{name:e.procedure.name,comments:e.procedure.comments,cost:e.procedure.cost,operator_id:e.$store.getters.userinfo.id}}).then((function(r){"更新失败"!=r.data?(e.resetForm("procedureForm"),e.$message({type:"success",message:"添加成功"})):e.$message({type:"error",message:r.data})})).catch((function(r){e.$message({type:"error",message:"网络错误，修改失败"})}))}))}))}}},a=s,u=(t("db06"),t("2877")),i=Object(u["a"])(a,o,n,!1,null,"037be26b",null);r["default"]=i.exports},db06:function(e,r,t){"use strict";var o=t("2ec0"),n=t.n(o);n.a}}]);
//# sourceMappingURL=chunk-36b1a840.25eb4cb8.js.map