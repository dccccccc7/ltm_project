(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41fa6ed8"],{"05be":function(t,e,a){"use strict";var n=a("be36"),o=a.n(n);o.a},"1bab":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("d3b7");var n=a("bc3a"),o=a.n(n);function i(t){return new Promise((function(e,a){var n=o.a.create({timeout:3e3});n(t).then((function(t){e(t)})).catch((function(t){a(t)}))}))}},4791:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("d3b7"),a("4f6c");var n=a("bc3a"),o=a.n(n);function i(t){return new Promise((function(e,a){var n=o.a.create({timeout:45e3});n(t).then((function(t){console.log("成功"),e(t)})).catch((function(t){console.log("失败"),a(t)}))}))}},"4f6c":function(t,e,a){"use strict"},be36:function(t,e,a){},d3e0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"80%",height:"80%",margin:"10px auto 0"}},[a("div",{staticStyle:{width:"100%",height:"40px","margin-bottom":"10px",display:"flex","justify-content":"flex-start"}},[a("div",{staticStyle:{width:"100%",height:"auto",display:"flex","justify-content":"start"}},[a("el-form",{ref:"input",staticClass:"demo-dynamic",attrs:{model:t.input,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"input",label:"库区编号",rules:[]}},[a("el-input",{model:{value:t.input.input,callback:function(e){t.$set(t.input,"input","string"===typeof e?e.trim():e)},expression:"input.input"}})],1)],1),a("el-button",{on:{click:function(e){return t.submitForm("input")}}},[t._v("搜索")])],1)]),a("div",{staticStyle:{width:"auto",height:"auto"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"库区编号",prop:"id"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"created_time"}}),a("el-table-column",{attrs:{label:"创建人",prop:"created_by"}}),a("el-table-column",{attrs:{label:"货架数量",prop:"shelf_Num"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleSearch(e.$index,e.row)}}},[t._v("查看 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),a("div",{staticClass:"block",staticStyle:{padding:"10px","margin-top":"10px"}},[a("el-pagination",{attrs:{"hide-on-single-page":!0,total:t.total,background:"",layout:"total,prev, pager, next, jumper","page-size":t.page.pages},on:{"prev-click":t.preclick,"next-click":t.nextclick,"current-change":t.curChange}})],1)],1)])},o=[],i=a("4791"),s=(a("1bab"),{name:"tableSector",data:function(){return{loading:!1,page:{pages:10,current:1},total:1,show:!1,incrementShelfFlag:!1,addShelfInfo:{shelf_id:""},input:{input:""},tableData:[{id:"12987121",shelf_Num:"129",created_time:"2018-29-29",created_by:"高某人"}]}},created:function(){console.log("sector----",this.$route.query),this.getData()},methods:{preclick:function(t){var e=this;this.page.current=t,this.loading=!0,setTimeout((function(){e.getData(),e.loading=!1}),1e3)},nextclick:function(t){var e=this;this.page.current=t,this.loading=!0,setTimeout((function(){e.getData(),e.loading=!1}),1e3)},curChange:function(t){var e=this;this.page.current=t,this.loading=!0,setTimeout((function(){e.getData(),e.loading=!1}),1e3)},getData:function(){var t=this,e={current:this.page.current,pages:this.page.pages};this.loading=!0,Object(i["a"])({url:"storage/storageItem",methods:"get",params:e}).then((function(e){console.log("tableSector的getData：res",e),!0===e.data.success?(console.log("???"),t.tableData=e.data.result.records,t.total=e.data.result.total):t.$message.error("查询失败")})).catch((function(e){console.log("store查询所有信息 getdata：err",e),t.$message.error("服务器异常")})),this.loading=!1},handleSearch:function(t,e){this.$router.push({path:"/storehouse/storageMain/ShelfInfo",query:{storage_id:e.id}})},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},handleDelete:function(t,e){var a=this;console.log(t,e);var n={storage_id:e.id,user:this.$store.getters.userinfo.id};this.loading=!0,console.log(n,"req"),Object(i["a"])({url:"storage/delete",methods:"get",params:n}).then((function(t){console.log("删除的res",t),!0===t.data.success?a.$message({type:"success",message:"删除成功"}):a.$message.error("删除失败"),a.getData()})).catch((function(t){console.log("删除库区的err",t),a.$message.error("服务器异常")})),this.loading=!1},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;if(""===e.input.input)e.getData();else{var a={storage_id:e.input.input};e.loading=!0,console.log("查询某条库区的req：",a),Object(i["a"])({url:"storage/search",method:"get",params:a}).then((function(t){if(console.log("查询某条库区的res：",t),!0===t.data.success){var a=[];a.push(t.data.result),e.tableData=a,e.$message({type:"success",message:"查询成功"})}else e.$message.error("查询失败");e.show=!0})).catch((function(t){console.log("查询某条库区的err",t),e.$message.error("服务器异常")})),e.show=!0,e.loading=!1}}))},resetForm:function(t){this.$refs[t].resetFields()}}}),r=s,c=(a("05be"),a("2877")),l=Object(c["a"])(r,n,o,!1,null,"7bd39cc2",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-41fa6ed8.ef89b2f6.js.map